"use strict";(self.webpackChunkMIE_TEMPLATE_NEW=self.webpackChunkMIE_TEMPLATE_NEW||[]).push([[594],{3594:(Or,ne,u)=>{u.r(ne),u.d(ne,{MastersListModule:()=>yr});var C=u(6895),S=u(9299),e=u(4650),U=u(1569);function me(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.navAction("add_hcp"))}),e.TgZ(1,"i",7),e._uU(2,"add"),e.qZA(),e._uU(3," Add HCP "),e.qZA()}}let ge=(()=>{class r{constructor(t,i){this._router=t,this.auth=i,this.tokenDecode=i.decodeToken(),this.userRoles=this.tokenDecode.role}ngOnInit(){}navAction(t){switch(console.log(t),t){case"add_hcp":this._router.navigate(["/master-list/hcp-master"],{queryParams:{action:"add"}});break;case"view_hcp":this._router.navigate(["/master-list/hcp-master"],{queryParams:{action:"view"}});break;case"add-speaker":this._router.navigate(["/master-list/speaker-code-creation/add-speaker"],{queryParams:{action:"add"}});break;case"view-speakers":this._router.navigate(["/master-list/speaker-code-creation/view-speakers"],{queryParams:{action:"view"}});break;case"add-trainer":this._router.navigate(["/master-list/trainer-code-creation/add-trainer"],{queryParams:{action:"add"}});break;case"view-trainers":this._router.navigate(["/master-list/trainer-code-creation/view-trainers"],{queryParams:{action:"view"}});break;case"add-vendor":this._router.navigate(["/master-list/vendor-creation/add-vendor"],{queryParams:{action:"add"}});break;case"view-vendors":this._router.navigate(["/master-list/vendor-creation/view-vendors"],{queryParams:{action:"view"}})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.F0),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-masters-list"]],decls:51,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-info","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-footer"],["class","stats",3,"click",4,"ngIf"],[1,"stats",3,"click"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-header","card-header-danger","card-header-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"i",7),e._uU(8,"person"),e.qZA()(),e.TgZ(9,"h3",8),e._uU(10,"HCP Master"),e.qZA()(),e.TgZ(11,"div",9),e.YNc(12,me,4,0,"div",10),e.TgZ(13,"div",11),e.NdJ("click",function(){return i.navAction("view_hcp")}),e.TgZ(14,"i",7),e._uU(15,"list"),e.qZA(),e._uU(16," View HCP "),e.qZA()()()(),e.TgZ(17,"div",3)(18,"div",4)(19,"div",12)(20,"div",6)(21,"i",7),e._uU(22,"person"),e.qZA()(),e.TgZ(23,"h3",8),e._uU(24,"Speaker Code"),e.qZA()(),e.TgZ(25,"div",9)(26,"div",11),e.NdJ("click",function(){return i.navAction("add-speaker")}),e.TgZ(27,"i",7),e._uU(28,"add"),e.qZA(),e._uU(29," Add Speaker "),e.qZA(),e.TgZ(30,"div",11),e.NdJ("click",function(){return i.navAction("view-speakers")}),e.TgZ(31,"i",7),e._uU(32,"list"),e.qZA(),e._uU(33," View Speaker "),e.qZA()()()(),e.TgZ(34,"div",3)(35,"div",4)(36,"div",13)(37,"div",6)(38,"i",7),e._uU(39,"person"),e.qZA()(),e.TgZ(40,"h3",8),e._uU(41,"Trainer Code"),e.qZA()(),e.TgZ(42,"div",9)(43,"div",11),e.NdJ("click",function(){return i.navAction("add-trainer")}),e.TgZ(44,"i",7),e._uU(45,"add"),e.qZA(),e._uU(46," Add Trainer "),e.qZA(),e.TgZ(47,"div",11),e.NdJ("click",function(){return i.navAction("view-trainers")}),e.TgZ(48,"i",7),e._uU(49,"list"),e.qZA(),e._uU(50," View Trainer "),e.qZA()()()()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf","Admin"==i.userRoles))},dependencies:[C.O5],styles:[".stats[_ngcontent-%COMP%] {\r\n    cursor: pointer;\r\n}"]}),r})();var w=u(3848),o=u(4006),A=u(7579),he=u(9646),P=u(4004),T=u(2722),l=u(6492),k=u(7313),O=u(9059),Z=u(529),v=u(5412),q=u(3607),h=u(9549),N=u(5140);let fe=(()=>{class r{constructor(t,i,n,s,d,c){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this.sourceFile$=null,this.loadingIndicator=!1,this._ngUnSubscribe=new A.x}ngOnInit(){this.addHcpForm=this._formBuilder.group({hcpUpload:["",o.kI.required]})}FileUpload(t){(0,he.of)(t).pipe((0,P.U)(n=>n[0])).subscribe(n=>{this.sourceFile$=n})}submit(){this.loadingIndicator=!0;const t=new FormData;t.append("data",JSON.stringify({enclosure:'"',delimiter:","})),t.append("file",this.sourceFile$),this._moduleService.uploadHcpList(t).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(n=>{this.loadingIndicator=!1,console.log("Here",n),n&&n.message?this._snackBarService.showSnackBar(n.message,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS):this._snackBarService.showSnackBar(l.D.HCP_MASTER.ERROR.INVALID_FILE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},n=>{this.loadingIndicator=!1,this._snackBarService.showSnackBar(n.error&&n.error.errors.file[0]?n.error&&n.error.errors.file[0]:l.D.HCP_MASTER.ERROR.INVALID_FILE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)})}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-hcp"]],decls:33,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[1,"col"],[1,"download-content"],["href","../../../../../assets/downloads/HCPmas.xlsx","target","_blank"],[3,"formGroup","ngSubmit"],[1,"justify-content-center"],["type","file","accept",".xls, .xlsx","formControlName","hcpUpload",3,"change"],[1,"col-12","d-flex","justify-content-center"],[1,"btn","btn-success","btn-md"],[3,"isLoading"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"HCP Creation"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"div",2)(14,"div",8)(15,"div",9)(16,"a",10),e._uU(17,"Click here to download HCP upload format"),e.qZA()()()(),e.TgZ(18,"form",11),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(19,"div",2)(20,"div",8)(21,"div",12)(22,"mat-label"),e._uU(23,"Upload HCP's lists Excel Sheet"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"input",13),e.NdJ("change",function(s){return i.FileUpload(s.target.files)}),e.qZA(),e._UZ(26,"br"),e.qZA()()(),e.TgZ(27,"div",2)(28,"div",8)(29,"div",14)(30,"button",15),e._uU(31,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(32,"app-spinner-loader",16),e.qZA()()()),2&t&&(e.xp6(18),e.Q6J("formGroup",i.addHcpForm),e.xp6(14),e.Q6J("isLoading",i.loadingIndicator))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,h.hX,N.r],styles:[".speakerCriterias-radio-group[_ngcontent-%COMP%] {\r\n    display: inline-flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .speakerCriterias-radio-button[_ngcontent-%COMP%] {\r\n    margin: 5px;\r\n  }\r\n  \r\n    .mat-radio-label {\r\n    align-items: inherit!important;\r\n  }\r\n  \r\n  .download-content[_ngcontent-%COMP%] {\r\n    float: right;\r\n  }"]}),r})();var B=u(4859),x=u(4144),M=u(7392),oe=u(4333);function _e(r,a){1&r&&(e.TgZ(0,"button",12)(1,"mat-icon"),e._uU(2,"search"),e.qZA()())}function Te(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearSearchInput())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function ve(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=a.$implicit;e.xp6(2),e.Oqu(t.row),e.xp6(2),e.Oqu(t.HCPName),e.xp6(2),e.Oqu(t.FirstName),e.xp6(2),e.Oqu(t.LastName),e.xp6(2),e.Oqu(t.MisCode)}}const Ie=function(r,a){return{itemsPerPage:r,currentPage:a}};let Se=(()=>{class r{constructor(t,i){this._http=t,this._moduleService=i,this.searchInput="",this._ngUnSubscribe=new A.x,this.displayedColumns=["sno","HCPName","FirstName","LastName","misCode"],this.loadingIndicator=!1,this.pageRowLimit=l.D.PAGINATION.ROW_LIMIT,this.hcpMasterListDataSource=[],this.hcpMasterListDataSourceFiltered=[],this.page=1,this.searchText=""}ngOnInit(){this.loadHcpMasterData()}pageChanged(t){this.page=t}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}editHcp(t){}loadHcpMasterData(){this.loadingIndicator=!0,this._moduleService.getHcpMasterList().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.loadingIndicator=!1;let i=1;t.forEach(n=>{n.row=i++,this.hcpMasterListDataSource.push(n)}),console.log("KKKK"),console.log(this.hcpMasterListDataSource),this.filterHcpMasterList("")})}clearSearchInput(){this.searchInput="",this.filterHcpMasterList("")}filterHcpMasterList(t){const i=t.toLowerCase();""!=i?(this.hcpMasterListDataSourceFiltered=this.hcpMasterListDataSource.filter(n=>{for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&n[s].toString().toLowerCase().includes(i))return!0;return!1}),console.log(this.hcpMasterListDataSourceFiltered)):this.hcpMasterListDataSourceFiltered=this.hcpMasterListDataSource}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(k.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-hcp"]],decls:33,vars:11,consts:[[1,"search-box"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","input"],["mat-icon-button","","class","search-icon",4,"ngIf"],["mat-icon-button","","class","search-icon",3,"click",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"container","table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["colspan","6",1,"pagination-row"],[3,"pageChange"],[3,"isLoading"],["mat-icon-button","",1,"search-icon"],["mat-icon-button","",1,"search-icon",3,"click"],["scope","row"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"mat-form-field",0)(2,"input",1),e.NdJ("ngModelChange",function(s){return i.searchInput=s})("input",function(s){return i.filterHcpMasterList(s.target.value)}),e.qZA(),e.YNc(3,_e,3,0,"button",2),e.YNc(4,Te,3,0,"button",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th")(12,"small"),e._uU(13,"S No."),e.qZA()(),e.TgZ(14,"th")(15,"small"),e._uU(16,"HCP Name"),e.qZA()(),e.TgZ(17,"th")(18,"small"),e._uU(19,"First Name"),e.qZA()(),e.TgZ(20,"th")(21,"small"),e._uU(22,"Last Name"),e.qZA()(),e.TgZ(23,"th")(24,"small"),e._uU(25,"MIS Code"),e.qZA()()()(),e.TgZ(26,"tbody"),e.YNc(27,ve,11,5,"tr",8),e.ALo(28,"paginate"),e.TgZ(29,"tr")(30,"td",9)(31,"pagination-controls",10),e.NdJ("pageChange",function(s){return i.pageChanged(s)}),e.qZA()()()()()()()()(),e._UZ(32,"app-spinner-loader",11)),2&t&&(e.xp6(2),e.Q6J("ngModel",i.searchInput),e.xp6(1),e.Q6J("ngIf",!i.searchInput),e.xp6(1),e.Q6J("ngIf",i.searchInput),e.xp6(23),e.Q6J("ngForOf",e.xi3(28,5,i.hcpMasterListDataSourceFiltered,e.WLB(8,Ie,i.pageRowLimit,i.page))),e.xp6(5),e.Q6J("isLoading",i.loadingIndicator))},dependencies:[C.sg,C.O5,o.Fj,o.JJ,o.On,B.lW,h.KE,x.Nt,M.Hw,oe.LS,N.r,oe._s],styles:["table.table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black;\r\n  }\r\ntable.table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\nth[_ngcontent-%COMP%]{\r\n   text-align: center !important;\r\n   color: black;\r\n    border:1px solid black !important;\r\n}\r\n\r\n.mat-form-field[_ngcontent-%COMP%] {\r\n  width: 50%;\r\n  border-radius: 20px; \r\n}\r\n\r\n.no-data-row[_ngcontent-%COMP%] {\r\n  text-align: center;\r\n  color: black;\r\n  font-style: italic;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 50%;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin: 20px auto;\r\n}\r\n\r\n.search-icon[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  margin-top: -10px;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]     .mat-form-field-placeholder {\r\n  text-align: center;\r\n  color: black; \r\n}\r\n.pagination-row[_ngcontent-%COMP%] {\r\n    text-align: right;\r\n}"]}),r})();function be(r,a){1&r&&(e.TgZ(0,"mat-tab",7),e._UZ(1,"app-add-hcp"),e.qZA())}let Ae=(()=>{class r{constructor(t,i){this._router=t,this.auth=i,this.tokenDecode=i.decodeToken(),this.userRoles=this.tokenDecode.role}ngOnInit(){this._router.queryParams.subscribe(t=>{console.log("params",t.action),this.selectedActionEvent="add"===t.action?1:0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.gz),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-hcp-master"]],decls:9,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[3,"selectedIndex"],["label","View Existing HCP"],["label","Add New HCP",4,"ngIf"],["label","Add New HCP"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"mat-tab-group",4)(6,"mat-tab",5),e._UZ(7,"app-view-hcp"),e.qZA(),e.YNc(8,be,2,0,"mat-tab",6),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("selectedIndex",i.selectedActionEvent),e.xp6(3),e.Q6J("ngIf","Admin"==i.userRoles))},dependencies:[C.O5,w.SP,w.uX,fe,Se]}),r})();var H=u(8675);function ke(r,a){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}let j=(()=>{class r{constructor(t,i){this.data=t,this.dialogRef=i}closeDialog(){this.dialogRef.close()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.WI),e.Y36(v.so))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-error-dialog"]],decls:7,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-center"],["mat-button","",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Error"),e.qZA(),e.TgZ(2,"ul"),e.YNc(3,ke,2,1,"li",0),e.qZA(),e.TgZ(4,"p",1)(5,"button",2),e.NdJ("click",function(){return i.closeDialog()}),e._uU(6,"Close"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",i.data.errors))},dependencies:[C.sg,B.lW],styles:["*[_ngcontent-%COMP%]{\r\n\tcolor: red;\r\n}"]}),r})();var K=u(4385),Q=u(3238),F=u(7957),V=u(1948),$=u(6709);function Ze(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ne(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Speciality),e.xp6(1),e.Oqu(t.Speciality)}}function Fe(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function ye(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Oe(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.CityName),e.xp6(1),e.Oqu(t.CityName)}}function qe(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.StateName),e.xp6(1),e.Oqu(t.StateName)}}function xe(r,a){1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Speaker Code"),e.qZA(),e._UZ(5,"input",35),e.qZA()()())}function we(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Name),e.xp6(1),e.Oqu(t.Name)}}function Ve(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options for Tier I Criteria "),e.qZA())}function Ue(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Any two criteria to be met)"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",38),e._uU(6," Speaks/chairs sessions at international conferences"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",39),e._uU(9," Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",40),e._uU(12," Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),e.qZA()()(),e.YNc(13,Ve,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(2),e.Q6J("ngIf",t.addSpeakerCodeCreationForm.hasError("tierICriteriaInvalid"))}}function Me(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options for Tier II Criteria "),e.qZA())}function De(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Any two criteria to be met)"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",41),e._uU(6," Speaks/chairs sessions at national conferences"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",42),e._uU(9," Publishes regularly in leading clinical or scientific journals"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",43),e._uU(12," Duly qualified and practices as a specialist in their respective area of specialization"),e.qZA()()(),e.YNc(13,Me,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(2),e.Q6J("ngIf",t.addSpeakerCodeCreationForm.hasError("tierIICriteriaInvalid"))}}function Ee(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select options for Tier III Criteria "),e.qZA())}function Je(r,a){if(1&r&&(e.TgZ(0,"div")(1,"ol")(2,"li")(3,"mat-checkbox",44),e._uU(4," Recognized by peers/ other specialists as an expert within his/her field"),e.qZA()()(),e.YNc(5,Ee,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier III Criteria")),e.xp6(2),e.Q6J("ngIf",t.addSpeakerCodeCreationForm.hasError("tierIIICriteriaInvalid"))}}function Pe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-radio-button",36),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onSpeakerCriteriaSelectionIdChange(n))}),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.YNc(3,Ue,14,4,"div",37),e.YNc(4,De,14,4,"div",37),e.YNc(5,Je,6,2,"div",37),e.qZA()}if(2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf","Tier I Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier II Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier III Criteria"==t)}}const Be=function(r){return{"invalid-field":r}};let se=(()=>{class r{constructor(t,i,n,s,d,c,m,g){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this._router=m,this._authService=g,this.loadingIndicator=!1,this.speakers=[],this.speakerTypes=[],this.countries=[],this.specialities=[],this.speakerCriterias=[],this.speakerNameSelected="",this._ngUnSubscribe=new A.x}ngOnInit(){this.addSpeakerCodeCreationForm=this._formBuilder.group({misCode:new o.NI("",o.kI.required),speakerName:new o.NI("",o.kI.required),speakerId:new o.NI,speciality:new o.NI("",o.kI.required),qualification:new o.NI("",o.kI.required),goNgoAgo:new o.NI("",o.kI.required),country:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),city:new o.NI(""),state:new o.NI(""),contactNumber:new o.NI("",o.kI.required),speakerCode:new o.NI,divisionId:new o.NI("",o.kI.required),speakerCriteriaSelectionId:new o.NI("",o.kI.required),speakerCategory:new o.NI,speakerCriteriasTireIOptions1:new o.NI,speakerCriteriasTireIOptions2:new o.NI,speakerCriteriasTireIOptions3:new o.NI,speakerCriteriasTireIIOptions1:new o.NI,speakerCriteriasTireIIOptions2:new o.NI,speakerCriteriasTireIIOptions3:new o.NI,speakerCriteriasTireIIIOptions1:new o.NI},{validator:i=>{const n="Tier I Criteria"===i.get("speakerCriteriaSelectionId")?.value,s=[i.get("speakerCriteriasTireIOptions1")?.value,i.get("speakerCriteriasTireIOptions2")?.value,i.get("speakerCriteriasTireIOptions3")?.value,i.get("speakerCriteriasTireIOptions4")?.value,i.get("speakerCriteriasTireIOptions5")?.value,i.get("speakerCriteriasTireIOptions6")?.value],d="Tier II Criteria"===i.get("speakerCriteriaSelectionId")?.value,c=[i.get("speakerCriteriasTireIIOptions1")?.value,i.get("speakerCriteriasTireIIOptions2")?.value,i.get("speakerCriteriasTireIIOptions3")?.value,i.get("speakerCriteriasTireIIOptions4")?.value,i.get("speakerCriteriasTireIIOptions5")?.value,i.get("speakerCriteriasTireIIOptions6")?.value],m="Tier III Criteria"===i.get("speakerCriteriaSelectionId")?.value,g=[i.get("speakerCriteriasTireIIIOptions1")?.value];if(n){const f=s.filter(_=>_).length;if(console.log("selectedCount",f),f<2)return{tierICriteriaInvalid:!0}}return d&&c.filter(_=>_).length<2?{tierIICriteriaInvalid:!0}:m&&g.filter(_=>_).length<1?{tierIIICriteriaInvalid:!0}:null}}),this.speakerTypes=this._moduleService.getSpeakerTypesData(),this.countries=this._moduleService.getCountriesData(),this._moduleService.getSpecialitiesData().subscribe(i=>{console.log(i),this.specialities=i}),this.speakerCriterias=this._moduleService.getAllSpeakerCriteriasData(),this._getDivisions(),this._getAllStates(),this._getAllCities(),this.speakerSelectionFormPrePopulate(),this._filteredMISCodes=this.addSpeakerCodeCreationForm.get("misCode").valueChanges.pipe((0,H.O)(""),(0,P.U)(i=>this._filterMISCodes(i))),this.addSpeakerCodeCreationForm.get("city").valueChanges.subscribe(i=>{this._filterStates(i)}),this.addSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").valueChanges.subscribe(i=>{this.onSpeakerCriteriaSelected(i)})}_getApprovedSpeakers(){this._utilityService.getApprovedSpeakersForAutocomplete().subscribe(t=>{console.log(t),this.speakers=t},t=>{console.error("Error loading speakers:",t)})}_getDivisions(){this._moduleService.getDivisionsData().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.divisions=t})}_getAllStates(){this._utilityService.getAllStates().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.statesMaster=t})}_getAllCities(){this._utilityService.getAllCities().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.cities=t})}_filterStates(t){if(t.toString().toLowerCase(),""==t)return this.states=this.statesMaster;this.states=[];var n=[];return this.cities.forEach(s=>{s.CityName&&s.CityName==t&&n.push(s)}),n.forEach(s=>{this.statesMaster.forEach(d=>{console.log(d),d.StateId==s.StateId&&this.states.push(d)})}),this.states}_filterMISCodes(t){const n=t.toString().toLowerCase();console.log(n,this.speakers);var s=this.speakers.map(d=>d.MISCode).filter(d=>d&&d.toString().toLowerCase().includes(n));return s.push("N/A"),s}onMISCodeSelected(t){}onSpeakerNameSelected(t){const n=this.findSpeakerBySpeakerName(t.option.value);console.log(n),n?(this.speakerNameSelected=n.speakerName,this.addSpeakerCodeCreationForm.patchValue({misCode:n.MISCode,speciality:n.Speciality,qualification:n.Qualification,goNgoAgo:"no"==n.isNonGO?"GO":"N-GO",country:n.Country,address:n.Address,city:n.CityId,state:n.StateId})):(this.speakerNameSelected="",this.addSpeakerCodeCreationForm.patchValue({speciality:"",qualification:"",country:"",address:"",city:"",state:""}))}findSpeakerByMISCode(t){return this.speakers.find(i=>i.MISCode===t)}findSpeakerBySpeakerName(t){return this.speakers.find(i=>`${i.SpeakerName} (${i.MISCode})`===t)}speakerSelectionFormPrePopulate(){}submit(){if(this.addSpeakerCodeCreationForm.invalid){const d=this.collectErrors(this.addSpeakerCodeCreationForm);this.openErrorDialog(d)}else if(this.addSpeakerCodeCreationForm.valid){let d=this._authService.decodeToken();this.loadingIndicator=!0,""==this.speakerNameSelected&&this.addSpeakerCodeCreationForm.get("speakerName");let c=[];var i=this.addSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").value;"Tier I Criteria"==i?(this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").value&&c.push("Speaks/chairs sessions at international conferences"),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").value&&c.push("Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience"),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").value&&c.push("Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals")):"Tier II Criteria"==i?(this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").value&&c.push("Speaks/chairs sessions at national conferences"),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").value&&c.push("Publishes regularly in leading clinical or scientific journals"),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").value&&c.push("Duly qualified and practices as a specialist in their respective area of specialization")):"Tier III Criteria"==i&&this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").value&&c.push("Recognized by peers/ other specialists as an expert within his/her field");var n=this.addSpeakerCodeCreationForm.get("misCode").value.toString(),s=this.addSpeakerCodeCreationForm.get("speakerCode").value;const m={speakerName:this.addSpeakerCodeCreationForm.get("speakerName").value.toString(),speakerCode:s||"",misCode:"n/a"==n.toLowerCase()?"":n,division:this.addSpeakerCodeCreationForm.get("divisionId").value.toString(),speciality:this.addSpeakerCodeCreationForm.get("speciality").value.toString(),qualification:this.addSpeakerCodeCreationForm.get("qualification").value.toString(),speaker_Type:this.addSpeakerCodeCreationForm.get("goNgoAgo").value.toString(),address:this.addSpeakerCodeCreationForm.get("address").value.toString(),city:this.addSpeakerCodeCreationForm.get("city").value.toString(),state:this.addSpeakerCodeCreationForm.get("state").value.toString(),country:this.addSpeakerCodeCreationForm.get("country").value.toString(),speaker_Criteria:this.addSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").value.toString(),speaker_Criteria_Details:c.join(","),speaker_Category:this.addSpeakerCodeCreationForm.get("speakerCategory").value.toString(),contact_Number:this.addSpeakerCodeCreationForm.get("contactNumber").value.toString(),InitiatorNameName:d.unique_name||" ",InitiatorEmail:d.email||" ",salesHead:d.SalesHead,medicalAffairsHead:d.MarketingHead||" "};console.log("payload",m),this._moduleService.addSpeakerCodeCreationDetails(m).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(g=>{this.loadingIndicator=!1,g?(this._snackBarService.showSnackBar(l.D.MESSAGE.SUCCESS.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS),this._router.navigate(["/master-list"])):this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},g=>{this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR),this.loadingIndicator=!1,console.log(g)})}}isHPCUserExist(){const{hcpName:t,misCode:i}=this.addSpeakerCodeCreationForm.value;return""!==t.trim()&&i.trim(),!1}isSpeakerMISCodeNA(){let{misCode:t}=this.addSpeakerCodeCreationForm.value;return t=t.toString(),""!==t.trim()&&"N/A"!==t.trim()&&"n/a"!==t.trim()}isSpeakerCategoryEnable(){return!1}isCriteriaOptionMatch(t){const{speakerCriteriaSelectionId:i}=this.addSpeakerCodeCreationForm.value;return!(!i||i!=t)}createNewHCPUser(){const{hcpName:t,misCode:i}=this.addSpeakerCodeCreationForm.value;console.log("Creating new HCP User:",t,i)}findSpeakerById(t){}onSpeakerCriteriaSelected(t){this.addSpeakerCodeCreationForm.patchValue({speakerCategory:this._moduleService.getSpeakerCategoryFromCriteria(t)})}updateSpeakerInfo(t){const i=this.findSpeakerById(t);this.addSpeakerCodeCreationForm.patchValue(i?{speciality:i.Speciality,qualification:i.Qualification,country:i.Country,address:i.Address,city:i.CityId,state:i.StateId,speakerCode:i.SpeakerCode}:{speciality:"",qualification:"",country:"",address:"",city:"",state:"",speakerCode:""})}onSpeakerCriteriaSelectionIdChange(t){console.log("onSpeakerCriteriaSelectionIdChange",t.value),"Tier I Criteria"==t.value?(this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").setValue(!1)):"Tier II Criteria"==t.value?(this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").setValue(!1)):"Tier III Criteria"==t.value&&(this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").setValue(!1),this.addSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").setValue(!1))}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}validateMisCode(){""!=this.addSpeakerCodeCreationForm.get("misCode").value&&"N/A"!=this.addSpeakerCodeCreationForm.get("misCode").value&&"n/a"!=this.addSpeakerCodeCreationForm.get("misCode").value?(this.loadingIndicator=!0,console.log(this.addSpeakerCodeCreationForm.get("misCode").value),this.addSpeakerCodeCreationForm.get("country").setValue("India"),this._utilityService.getRowDataUsingMISCodeandType(this.addSpeakerCodeCreationForm.get("misCode").value,"Speaker").subscribe(t=>{if(console.log(t),t&&t.message){let i=[];i.push(t.message),this.openErrorDialog(i)}else t?(this.addSpeakerCodeCreationForm.get("speakerName").setValue(t[0].HCPName),this.addSpeakerCodeCreationForm.get("goNgoAgo").setValue(t[0].HcpType),this.addSpeakerCodeCreationForm.get("address").setValue(t[0]["Company Name"]),this.addSpeakerCodeCreationForm.get("speakerName").value&&this.addSpeakerCodeCreationForm.get("speakerName").disable(),this.addSpeakerCodeCreationForm.get("address").value&&this.addSpeakerCodeCreationForm.get("address").disable(),this.addSpeakerCodeCreationForm.get("goNgoAgo").value&&this.addSpeakerCodeCreationForm.get("goNgoAgo").disable()):(this.addSpeakerCodeCreationForm.get("speakerName").enable(),this.addSpeakerCodeCreationForm.get("address").enable(),this.addSpeakerCodeCreationForm.get("goNgoAgo").enable());this.loadingIndicator=!1},t=>{console.error("Error loading hpc:",t),this.loadingIndicator=!1,this.addSpeakerCodeCreationForm.get("speakerName").enable(),this.addSpeakerCodeCreationForm.get("address").enable(),this.addSpeakerCodeCreationForm.get("goNgoAgo").enable()})):(this.addSpeakerCodeCreationForm.get("speakerName").enable(),this.addSpeakerCodeCreationForm.get("address").enable(),this.addSpeakerCodeCreationForm.get("goNgoAgo").enable())}collectErrors(t){const i=[];return i.push("Please fill all required fields."),i}openErrorDialog(t){this._dialog.open(j,{data:{errors:t}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C),e.Y36(S.F0),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-speaker"]],decls:112,vars:19,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Enter MIS Code","formControlName","misCode","pattern","[a-zA-Z0-9/]*","maxlength","10",3,"matAutocomplete","optionSelected","blur"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","speakerName"],["formControlName","speciality"],["matInput","","formControlName","qualification"],["formControlName","goNgoAgo"],["formControlName","country"],["matInput","","formControlName","address"],["formControlName","city",3,"disabled"],["formControlName","state",3,"disabled"],["matInput","","formControlName","contactNumber"],["class","row",4,"ngIf"],["color","accent","appearance","outline"],["formControlName","divisionId"],["formControlName","speakerCriteriaSelectionId",1,"speakerCriterias-radio-group",3,"ngClass"],[1,"color_red"],["class","speakerCriterias-radio-button",3,"value","change",4,"ngFor","ngForOf"],["matInput","","formControlName","speakerCategory","readonly",""],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm"],[3,"isLoading"],[3,"value"],["matInput","","formControlName","speakerCode"],[1,"speakerCriterias-radio-button",3,"value","change"],[4,"ngIf"],["formControlName","speakerCriteriasTireIOptions1","value","Speaks/chairs sessions at international conferences",3,"disabled"],["formControlName","speakerCriteriasTireIOptions2","value","Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience",3,"disabled"],["formControlName","speakerCriteriasTireIOptions3","value","Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions1","value","Speaks/chairs sessions at national conferences",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions2","value","Publishes regularly in leading clinical or scientific journals",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions3","value","Duly qualified and practices as a specialist in their respective area of specialization",3,"disabled"],["formControlName","speakerCriteriasTireIIIOptions1","value","Recognized by peers/ other specialists as an expert within his/her field",3,"disabled"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Speaker Code Creation"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"div",2)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"MIS Code"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)})("blur",function(){return i.validateMisCode()}),e.qZA(),e.TgZ(20,"mat-autocomplete",12,13),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)}),e.YNc(22,Ze,2,2,"mat-option",14),e.ALo(23,"async"),e.qZA()()()(),e.TgZ(24,"div",2)(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Speaker Name"),e.qZA(),e._UZ(29,"input",15),e.qZA()()(),e.TgZ(30,"div",2)(31,"div",9)(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Speciality"),e.qZA(),e.TgZ(35,"mat-select",16),e.YNc(36,Ne,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(37,"div",2)(38,"div",9)(39,"mat-form-field",10)(40,"mat-label"),e._uU(41,"Qualification"),e.qZA(),e._UZ(42,"input",17),e.qZA()()(),e.TgZ(43,"div",2)(44,"div",9)(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"HCP Type"),e.qZA(),e.TgZ(48,"mat-select",18),e.YNc(49,Fe,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(50,"div",2)(51,"div",9)(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Country"),e.qZA(),e.TgZ(55,"mat-select",19),e.YNc(56,ye,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(57,"div",2)(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),e._uU(61,"Address"),e.qZA(),e._UZ(62,"input",20),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",9)(65,"mat-form-field",10)(66,"mat-label"),e._uU(67,"City"),e.qZA(),e.TgZ(68,"mat-select",21),e.YNc(69,Oe,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(70,"div",2)(71,"div",9)(72,"mat-form-field",10)(73,"mat-label"),e._uU(74,"State"),e.qZA(),e.TgZ(75,"mat-select",22),e.YNc(76,qe,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(77,"div",2)(78,"div",9)(79,"mat-form-field",10)(80,"mat-label"),e._uU(81,"Contact Number"),e.qZA(),e._UZ(82,"input",23),e.qZA()()(),e.YNc(83,xe,6,0,"div",24),e.TgZ(84,"div",2)(85,"div",9)(86,"mat-form-field",25)(87,"mat-label"),e._uU(88,"Select Division"),e.qZA(),e.TgZ(89,"mat-select",26),e.YNc(90,we,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(91,"div",2)(92,"div",9)(93,"div")(94,"mat-radio-group",27)(95,"mat-label"),e._uU(96,"Speaker criteria selection "),e.TgZ(97,"span",28),e._uU(98,"*"),e.qZA()(),e.YNc(99,Pe,6,5,"mat-radio-button",29),e.qZA()()()(),e.TgZ(100,"div",2)(101,"div",9)(102,"mat-form-field",10)(103,"mat-label"),e._uU(104,"Speaker Category"),e.qZA(),e._UZ(105,"input",30),e.qZA()()(),e.TgZ(106,"div",2)(107,"div",9)(108,"div",31)(109,"button",32),e._uU(110,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(111,"app-spinner-loader",33),e.qZA()()()),2&t){const n=e.MAs(21);e.xp6(13),e.Q6J("formGroup",i.addSpeakerCodeCreationForm),e.xp6(6),e.Q6J("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,15,i._filteredMISCodes)),e.xp6(14),e.Q6J("ngForOf",i.specialities),e.xp6(13),e.Q6J("ngForOf",i.speakerTypes),e.xp6(7),e.Q6J("ngForOf",i.countries),e.xp6(12),e.Q6J("disabled",!i.isSpeakerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(6),e.Q6J("disabled",!i.isSpeakerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.states),e.xp6(7),e.Q6J("ngIf",!1),e.xp6(7),e.Q6J("ngForOf",i.divisions),e.xp6(4),e.Q6J("ngClass",e.VKq(17,Be,i.addSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").invalid)),e.xp6(5),e.Q6J("ngForOf",i.speakerCriterias),e.xp6(12),e.Q6J("isLoading",i.loadingIndicator)}},dependencies:[C.mk,C.sg,C.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.c5,o.sg,o.u,h.TO,h.KE,h.hX,x.Nt,K.gD,Q.ey,F.XC,F.ZL,V.VQ,V.U0,$.oG,N.r,C.Ov],styles:[".speakerCriterias-radio-group[_ngcontent-%COMP%] {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.speakerCriterias-radio-button[_ngcontent-%COMP%] {\r\n  margin: 5px;\r\n}\r\n\r\n  .mat-radio-label {\r\n  align-items: inherit!important;\r\n}\r\n\r\n.invalid-field[_ngcontent-%COMP%] {\r\n  border-color: red !important;\r\n  color: red;\r\n}"]}),r})();var p=u(7155);function Qe(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ye(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Speciality),e.xp6(1),e.Oqu(t.Speciality)}}function Re(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Le(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function He(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.CityName),e.xp6(1),e.Oqu(t.CityName)}}function je(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.StateName),e.xp6(1),e.Oqu(t.StateName)}}function Ke(r,a){1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Speaker Code"),e.qZA(),e._UZ(5,"input",35),e.qZA()()())}function $e(r,a){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Name),e.xp6(1),e.Oqu(t.Name)}}function ze(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options for Tier I Criteria "),e.qZA())}function Ge(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Any two criteria to be met)"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",38),e._uU(6," Speaks/chairs sessions at international conferences"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",39),e._uU(9," Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",40),e._uU(12," Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),e.qZA()()(),e.YNc(13,ze,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(2),e.Q6J("ngIf",t.editSpeakerCodeCreationForm.hasError("tierICriteriaInvalid"))}}function Xe(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options for Tier II Criteria "),e.qZA())}function We(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Any two criteria to be met)"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",41),e._uU(6," Speaks/chairs sessions at national conferences"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",42),e._uU(9," Publishes regularly in leading clinical or scientific journals"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",43),e._uU(12," Duly qualified and practices as a specialist in their respective area of specialization"),e.qZA()()(),e.YNc(13,Xe,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(2),e.Q6J("ngIf",t.editSpeakerCodeCreationForm.hasError("tierIICriteriaInvalid"))}}function et(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select options for Tier III Criteria "),e.qZA())}function tt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"ol")(2,"li")(3,"mat-checkbox",44),e._uU(4," Recognized by peers/ other specialists as an expert within his/her field"),e.qZA()()(),e.YNc(5,et,2,0,"mat-error",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier III Criteria")),e.xp6(2),e.Q6J("ngIf",t.editSpeakerCodeCreationForm.hasError("tierIIICriteriaInvalid"))}}function it(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-radio-button",36),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onSpeakerCriteriaSelectionIdChange(n))}),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.YNc(3,Ge,14,4,"div",37),e.YNc(4,We,14,4,"div",37),e.YNc(5,tt,6,2,"div",37),e.qZA()}if(2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf","Tier I Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier II Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier III Criteria"==t)}}const rt=function(r){return{"invalid-field":r}};let at=(()=>{class r{constructor(t,i,n,s,d,c,m,g,f,_){this.data=t,this._http=i,this._formBuilder=n,this._dialog=s,this._utilityService=d,this._snackBarService=c,this._moduleService=m,this._router=g,this.auth=f,this.dialogRef=_,this.loadingIndicator=!1,this.speakers=[],this.speakerTypes=[],this.countries=[],this.specialities=[],this.speakerCriterias=[],this.speakerNameSelected="",this._ngUnSubscribe=new A.x}ngOnInit(){console.log(this.data);let i=this.data;this.editSpeakerCodeCreationForm=this._formBuilder.group({SpeakerId:new o.NI(i.SpeakerId?i.SpeakerId:""),misCode:new o.NI(i.MisCode?i.MisCode:"",o.kI.required),speakerName:new o.NI(i.SpeakerName?i.SpeakerName:"",o.kI.required),speakerCode:new o.NI(i["Speaker Code"]?i["Speaker Code"]:""),speakerCategory:new o.NI(i["Speaker Category"]?i["Speaker Category"]:""),speciality:new o.NI(i.Speciality?i.Speciality:"",o.kI.required),goNgoAgo:new o.NI(i["Speaker Type"]?i["Speaker Type"]:"",o.kI.required),divisionId:new o.NI(i.Division?i.Division:"",o.kI.required),qualification:new o.NI(i.Qualification?i.Qualification:"",o.kI.required),country:new o.NI(i.Country?i.Country:"",o.kI.required),address:new o.NI(i.Address?i.Address:"",o.kI.required),city:new o.NI(i.City?i.City:""),state:new o.NI(i.State?i.State:""),contactNumber:new o.NI(i["Contact Number"]?i["Contact Number"]:"",o.kI.required),speakerCriteriaSelectionId:new o.NI(i["Speaker Criteria"]?i["Speaker Criteria"]:"",o.kI.required),speakerCriteriasTireIOptions1:new o.NI,speakerCriteriasTireIOptions2:new o.NI,speakerCriteriasTireIOptions3:new o.NI,speakerCriteriasTireIIOptions1:new o.NI,speakerCriteriasTireIIOptions2:new o.NI,speakerCriteriasTireIIOptions3:new o.NI,speakerCriteriasTireIIIOptions1:new o.NI},{validator:d=>{const c="Tier I Criteria"===d.get("speakerCriteriaSelectionId")?.value,m=[d.get("speakerCriteriasTireIOptions1")?.value,d.get("speakerCriteriasTireIOptions2")?.value,d.get("speakerCriteriasTireIOptions3")?.value,d.get("speakerCriteriasTireIOptions4")?.value,d.get("speakerCriteriasTireIOptions5")?.value,d.get("speakerCriteriasTireIOptions6")?.value],g="Tier II Criteria"===d.get("speakerCriteriaSelectionId")?.value,f=[d.get("speakerCriteriasTireIIOptions1")?.value,d.get("speakerCriteriasTireIIOptions2")?.value,d.get("speakerCriteriasTireIIOptions3")?.value,d.get("speakerCriteriasTireIIOptions4")?.value,d.get("speakerCriteriasTireIIOptions5")?.value,d.get("speakerCriteriasTireIIOptions6")?.value],_="Tier III Criteria"===d.get("speakerCriteriaSelectionId")?.value,y=[d.get("speakerCriteriasTireIIIOptions1")?.value];if(c){const b=m.filter(I=>I).length;if(console.log("selectedCount",b),b<2)return{tierICriteriaInvalid:!0}}return g&&f.filter(I=>I).length<2?{tierIICriteriaInvalid:!0}:_&&y.filter(I=>I).length<1?{tierIIICriteriaInvalid:!0}:null}});let n=i["Speaker Criteria"]?i["Speaker Criteria"]:"",s=(i["Speaker Criteria Details"]?i["Speaker Criteria Details"]:"").toLowerCase();"Tier I Criteria"==n?(s.includes("speaks/chairs sessions at international conferences")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIOptions1:!0}),s.includes("duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIOptions2:!0}),s.includes("author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIOptions3:!0})):"Tier II Criteria"==n?(s.includes("speaks/chairs sessions at national conferences")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIIOptions1:!0}),s.includes("publishes regularly in leading clinical or scientific journals")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIIOptions2:!0}),s.includes("duly qualified and practices as a specialist in their respective area of specialization")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIIOptions3:!0})):"Tier III Criteria"==n&&s.includes("recognized by peers/ other specialists as an expert within his/her field")&&this.editSpeakerCodeCreationForm.patchValue({speakerCriteriasTireIIIOptions1:!0}),this.speakerTypes=this._moduleService.getSpeakerTypesData(),this.countries=this._moduleService.getCountriesData(),this._moduleService.getSpecialitiesData().subscribe(d=>{console.log(d),this.specialities=d}),this.speakerCriterias=this._moduleService.getAllSpeakerCriteriasData(),this._getDivisions(),this._getAllStates(),this._getAllCities(),this.speakerSelectionFormPrePopulate(),this._filteredMISCodes=this.editSpeakerCodeCreationForm.get("misCode").valueChanges.pipe((0,H.O)(""),(0,P.U)(d=>this._filterMISCodes(d))),this.editSpeakerCodeCreationForm.get("city").valueChanges.subscribe(d=>{this._filterStates(d)}),this.editSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").valueChanges.subscribe(d=>{this.onSpeakerCriteriaSelected(d)})}_getApprovedSpeakers(){this._utilityService.getApprovedSpeakersForAutocomplete().subscribe(t=>{console.log(t),this.speakers=t},t=>{console.error("Error loading speakers:",t)})}_getDivisions(){this._moduleService.getDivisionsData().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.divisions=t})}_getAllStates(){this._utilityService.getAllStates().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.statesMaster=t,this._filterStates("")})}_getAllCities(){this._utilityService.getAllCities().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.cities=t})}_filterStates(t){if(t.toString().toLowerCase(),""==t)return this.states=this.statesMaster;this.states=[];var n=[];return this.cities.forEach(s=>{s.CityName&&s.CityName==t&&n.push(s)}),n.forEach(s=>{this.statesMaster.forEach(d=>{console.log(d),d.StateId==s.StateId&&this.states.push(d)})}),this.states}_filterMISCodes(t){const n=t.toString().toLowerCase();console.log(n,this.speakers);var s=this.speakers.map(d=>d.MISCode).filter(d=>d&&d.toString().toLowerCase().includes(n));return s.push("N/A"),s}onMISCodeSelected(t){}onSpeakerNameSelected(t){}findSpeakerByMISCode(t){return this.speakers.find(i=>i.MISCode===t)}findSpeakerBySpeakerName(t){return this.speakers.find(i=>`${i.SpeakerName} (${i.MISCode})`===t)}speakerSelectionFormPrePopulate(){}submit(){if(this.editSpeakerCodeCreationForm.invalid){const s=this.collectErrors(this.editSpeakerCodeCreationForm);this.openErrorDialog(s)}else if(this.editSpeakerCodeCreationForm.valid){let s=this.auth.decodeToken();this.loadingIndicator=!0,""==this.speakerNameSelected&&this.editSpeakerCodeCreationForm.get("speakerName");let d=[];var i=this.editSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").value;"Tier I Criteria"==i?(this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").value&&d.push("Speaks/chairs sessions at international conferences"),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").value&&d.push("Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience"),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").value&&d.push("Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals")):"Tier II Criteria"==i?(this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").value&&d.push("Speaks/chairs sessions at national conferences"),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").value&&d.push("Publishes regularly in leading clinical or scientific journals"),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").value&&d.push("Duly qualified and practices as a specialist in their respective area of specialization")):"Tier III Criteria"==i&&this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").value&&d.push("Recognized by peers/ other specialists as an expert within his/her field");var n=this.editSpeakerCodeCreationForm.get("speakerCode").value.toString();const c={SpeakerId:this.editSpeakerCodeCreationForm.get("SpeakerId").value.toString(),InitiatorNameName:s.unique_name||" ",InitiatorEmail:s.email||" ",salesHead:s.SalesHead,medicalAffairsHead:s.MarketingHead||" ",speakerName:this.editSpeakerCodeCreationForm.get("speakerName").value.toString(),speakerCode:n||"",misCode:this.editSpeakerCodeCreationForm.get("misCode").value.toString(),division:this.editSpeakerCodeCreationForm.get("divisionId").value.toString(),speciality:this.editSpeakerCodeCreationForm.get("speciality").value.toString(),qualification:this.editSpeakerCodeCreationForm.get("qualification").value.toString(),address:this.editSpeakerCodeCreationForm.get("address").value.toString(),city:this.editSpeakerCodeCreationForm.get("city").value.toString(),state:this.editSpeakerCodeCreationForm.get("state").value.toString(),country:this.editSpeakerCodeCreationForm.get("country").value.toString(),contact_Number:this.editSpeakerCodeCreationForm.get("contactNumber").value.toString(),speaker_Category:this.editSpeakerCodeCreationForm.get("speakerCategory").value.toString(),speaker_Type:this.editSpeakerCodeCreationForm.get("goNgoAgo").value.toString(),speaker_Criteria:this.editSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").value.toString(),speaker_Criteria_Details:d.join(",")};console.log("payload",c),this._moduleService.updateSpeakerDataUsingSpeakerId(c).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(m=>{this.loadingIndicator=!1,m?(this._snackBarService.showSnackBar(l.D.MESSAGE.SUCCESS.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS),this.dialogRef.close(),this._router.navigate(["/master-list"])):this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},m=>{this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_SPEAKERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR),this.loadingIndicator=!1,console.log(m)})}}isHPCUserExist(){const{hcpName:t,misCode:i}=this.editSpeakerCodeCreationForm.value;return""!==t.trim()&&i.trim(),!1}isSpeakerMISCodeNA(){let{misCode:t}=this.editSpeakerCodeCreationForm.value;return t=(t||"").toString(),""!==t.trim()&&"N/A"!==t.trim()}isSpeakerCategoryEnable(){return!1}isCriteriaOptionMatch(t){const{speakerCriteriaSelectionId:i}=this.editSpeakerCodeCreationForm.value;return!(!i||i!=t)}createNewHCPUser(){const{hcpName:t,misCode:i}=this.editSpeakerCodeCreationForm.value;console.log("Creating new HCP User:",t,i)}findSpeakerById(t){}onSpeakerCriteriaSelected(t){this.editSpeakerCodeCreationForm.patchValue({speakerCategory:this._moduleService.getSpeakerCategoryFromCriteria(t)})}updateSpeakerInfo(t){const i=this.findSpeakerById(t);this.editSpeakerCodeCreationForm.patchValue(i?{speciality:i.Speciality,qualification:i.Qualification,country:i.Country,address:i.Address,city:i.CityId,state:i.StateId,speakerCode:i.SpeakerCode}:{speciality:"",qualification:"",country:"",address:"",city:"",state:"",speakerCode:""})}onSpeakerCriteriaSelectionIdChange(t){console.log("onSpeakerCriteriaSelectionIdChange",t.value),"Tier I Criteria"==t.value?(this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").setValue(!1)):"Tier II Criteria"==t.value?(this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").setValue(!1)):"Tier III Criteria"==t.value&&(this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions2").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIOptions3").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions1").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions2").setValue(!1),this.editSpeakerCodeCreationForm.get("speakerCriteriasTireIIOptions3").setValue(!1))}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}validateMisCode(){let t=this.data;""!=this.editSpeakerCodeCreationForm.get("misCode").value&&this.editSpeakerCodeCreationForm.get("misCode").value!=t.MisCode&&"N/A"!=this.editSpeakerCodeCreationForm.get("misCode").value&&"n/a"!=this.editSpeakerCodeCreationForm.get("misCode").value?(this.loadingIndicator=!0,console.log(this.editSpeakerCodeCreationForm.get("misCode").value),this._utilityService.getRowDataUsingMISCodeandType(this.editSpeakerCodeCreationForm.get("misCode").value,"Speaker").subscribe(i=>{if(console.log(i),i&&i.message){let n=[];n.push(i.message),this.openErrorDialog(n)}else i?(this.editSpeakerCodeCreationForm.get("speakerName").setValue(i[0].HCPName),this.editSpeakerCodeCreationForm.get("goNgoAgo").setValue(i[0].HcpType),this.editSpeakerCodeCreationForm.get("address").setValue(i[0]["Company Name"]),this.editSpeakerCodeCreationForm.get("speakerName").value&&this.editSpeakerCodeCreationForm.get("speakerName").disable(),this.editSpeakerCodeCreationForm.get("address").value&&this.editSpeakerCodeCreationForm.get("address").disable(),this.editSpeakerCodeCreationForm.get("goNgoAgo").value&&this.editSpeakerCodeCreationForm.get("goNgoAgo").disable()):(this.editSpeakerCodeCreationForm.get("speakerName").enable(),this.editSpeakerCodeCreationForm.get("address").enable(),this.editSpeakerCodeCreationForm.get("goNgoAgo").enable());this.loadingIndicator=!1},i=>{console.error("Error loading hpc:",i),this.loadingIndicator=!1,this.editSpeakerCodeCreationForm.get("speakerName").enable(),this.editSpeakerCodeCreationForm.get("address").enable(),this.editSpeakerCodeCreationForm.get("goNgoAgo").enable()})):(this.editSpeakerCodeCreationForm.get("speakerName").enable(),this.editSpeakerCodeCreationForm.get("address").enable(),this.editSpeakerCodeCreationForm.get("goNgoAgo").enable())}collectErrors(t){const i=[];return i.push("Please fill all required fields."),i}openErrorDialog(t){this._dialog.open(j,{data:{errors:t}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.WI),e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C),e.Y36(S.F0),e.Y36(U.e),e.Y36(v.so))},r.\u0275cmp=e.Xpm({type:r,selectors:[["edit-edit-speaker"]],decls:112,vars:19,consts:[[1,"main-content","withscrollbar"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Enter MIS Code","formControlName","misCode","pattern","[a-zA-Z0-9/]*","maxlength","10",3,"matAutocomplete","optionSelected","blur"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","speakerName"],["formControlName","speciality"],["matInput","","formControlName","qualification"],["formControlName","goNgoAgo"],["formControlName","country"],["matInput","","formControlName","address"],["formControlName","city",3,"disabled"],["formControlName","state",3,"disabled"],["matInput","","formControlName","contactNumber"],["class","row",4,"ngIf"],["color","accent","appearance","outline"],["formControlName","divisionId"],["formControlName","speakerCriteriaSelectionId",1,"speakerCriterias-radio-group",3,"ngClass"],[1,"color_red"],["class","speakerCriterias-radio-button",3,"value","change",4,"ngFor","ngForOf"],["matInput","","formControlName","speakerCategory","readonly",""],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm"],[3,"isLoading"],[3,"value"],["matInput","","formControlName","speakerCode"],[1,"speakerCriterias-radio-button",3,"value","change"],[4,"ngIf"],["formControlName","speakerCriteriasTireIOptions1","value","Speaks/chairs sessions at international conferences",3,"disabled"],["formControlName","speakerCriteriasTireIOptions2","value","Duly qualified and practices as a specialist in their respective area of specialization with > 12 years of experience",3,"disabled"],["formControlName","speakerCriteriasTireIOptions3","value","Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions1","value","Speaks/chairs sessions at national conferences",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions2","value","Publishes regularly in leading clinical or scientific journals",3,"disabled"],["formControlName","speakerCriteriasTireIIOptions3","value","Duly qualified and practices as a specialist in their respective area of specialization",3,"disabled"],["formControlName","speakerCriteriasTireIIIOptions1","value","Recognized by peers/ other specialists as an expert within his/her field",3,"disabled"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Speaker Code Update"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"div",2)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"MIS Code"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)})("blur",function(){return i.validateMisCode()}),e.qZA(),e.TgZ(20,"mat-autocomplete",12,13),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)}),e.YNc(22,Qe,2,2,"mat-option",14),e.ALo(23,"async"),e.qZA()()()(),e.TgZ(24,"div",2)(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Speaker Name"),e.qZA(),e._UZ(29,"input",15),e.qZA()()(),e.TgZ(30,"div",2)(31,"div",9)(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Speciality"),e.qZA(),e.TgZ(35,"mat-select",16),e.YNc(36,Ye,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(37,"div",2)(38,"div",9)(39,"mat-form-field",10)(40,"mat-label"),e._uU(41,"Qualification"),e.qZA(),e._UZ(42,"input",17),e.qZA()()(),e.TgZ(43,"div",2)(44,"div",9)(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"HCP Type"),e.qZA(),e.TgZ(48,"mat-select",18),e.YNc(49,Re,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(50,"div",2)(51,"div",9)(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Country"),e.qZA(),e.TgZ(55,"mat-select",19),e.YNc(56,Le,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(57,"div",2)(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),e._uU(61,"Address"),e.qZA(),e._UZ(62,"input",20),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",9)(65,"mat-form-field",10)(66,"mat-label"),e._uU(67,"City"),e.qZA(),e.TgZ(68,"mat-select",21),e.YNc(69,He,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(70,"div",2)(71,"div",9)(72,"mat-form-field",10)(73,"mat-label"),e._uU(74,"State"),e.qZA(),e.TgZ(75,"mat-select",22),e.YNc(76,je,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(77,"div",2)(78,"div",9)(79,"mat-form-field",10)(80,"mat-label"),e._uU(81,"Contact Number"),e.qZA(),e._UZ(82,"input",23),e.qZA()()(),e.YNc(83,Ke,6,0,"div",24),e.TgZ(84,"div",2)(85,"div",9)(86,"mat-form-field",25)(87,"mat-label"),e._uU(88,"Select Division"),e.qZA(),e.TgZ(89,"mat-select",26),e.YNc(90,$e,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(91,"div",2)(92,"div",9)(93,"div")(94,"mat-radio-group",27)(95,"mat-label"),e._uU(96,"Speaker criteria selection "),e.TgZ(97,"span",28),e._uU(98,"*"),e.qZA()(),e.YNc(99,it,6,5,"mat-radio-button",29),e.qZA()()()(),e.TgZ(100,"div",2)(101,"div",9)(102,"mat-form-field",10)(103,"mat-label"),e._uU(104,"Speaker Category"),e.qZA(),e._UZ(105,"input",30),e.qZA()()(),e.TgZ(106,"div",2)(107,"div",9)(108,"div",31)(109,"button",32),e._uU(110,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(111,"app-spinner-loader",33),e.qZA()()()),2&t){const n=e.MAs(21);e.xp6(13),e.Q6J("formGroup",i.editSpeakerCodeCreationForm),e.xp6(6),e.Q6J("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,15,i._filteredMISCodes)),e.xp6(14),e.Q6J("ngForOf",i.specialities),e.xp6(13),e.Q6J("ngForOf",i.speakerTypes),e.xp6(7),e.Q6J("ngForOf",i.countries),e.xp6(12),e.Q6J("disabled",!i.isSpeakerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(6),e.Q6J("disabled",!i.isSpeakerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.states),e.xp6(7),e.Q6J("ngIf",!1),e.xp6(7),e.Q6J("ngForOf",i.divisions),e.xp6(4),e.Q6J("ngClass",e.VKq(17,rt,i.editSpeakerCodeCreationForm.get("speakerCriteriaSelectionId").invalid)),e.xp6(5),e.Q6J("ngForOf",i.speakerCriterias),e.xp6(12),e.Q6J("isLoading",i.loadingIndicator)}},dependencies:[C.mk,C.sg,C.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.c5,o.sg,o.u,h.TO,h.KE,h.hX,x.Nt,K.gD,Q.ey,F.XC,F.ZL,V.VQ,V.U0,$.oG,N.r,C.Ov],styles:[".speakerCriterias-radio-group[_ngcontent-%COMP%] {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.speakerCriterias-radio-button[_ngcontent-%COMP%] {\r\n  margin: 5px;\r\n}\r\n\r\n  .mat-radio-label {\r\n  align-items: inherit!important;\r\n}\r\n\r\n.withscrollbar[_ngcontent-%COMP%] {\r\n  max-height: 600px; \r\n  overflow-y: auto; \r\n}\r\n\r\n.invalid-field[_ngcontent-%COMP%] {\r\n  border-color: red !important;\r\n  color: red;\r\n}"]}),r})();var z=u(8739);function nt(r,a){1&r&&(e.TgZ(0,"button",23)(1,"mat-icon"),e._uU(2,"search"),e.qZA()())}function ot(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearSearchInput())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function st(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," S.no "),e.qZA())}function dt(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.index,i=e.oxw();e.xp6(1),e.hij(" ",i.paginator.pageIndex*i.paginator.pageSize+t+1," ")}}function lt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," MIS Code "),e.qZA())}function ct(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.MisCode," ")}}function pt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Speaker Name "),e.qZA())}function ut(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.SpeakerName," ")}}function Ct(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Specialty "),e.qZA())}function mt(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Speciality," ")}}function gt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Qualification "),e.qZA())}function ht(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Qualification," ")}}function ft(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Speaker Type "),e.qZA())}function _t(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Speaker Type"]," ")}}function Tt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Country "),e.qZA())}function vt(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Country," ")}}function It(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Speaker Code "),e.qZA())}function St(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Speaker Code"]," ")}}function bt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Speaker Category "),e.qZA())}function At(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Speaker Category"]," ")}}function kt(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Actions "),e.qZA())}function Zt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"td",26)(1,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editSpeakerCode(s))}),e._uU(2,"Edit"),e.qZA()()}}function Nt(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28),e._uU(3,"No records found"),e.qZA()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.displayedColumns.length)}}function Ft(r,a){1&r&&e._UZ(0,"tr",29)}const yt=function(r,a){return{"even-row":r,"odd-row":a}};function Ot(r,a){if(1&r&&e._UZ(0,"tr",30),2&r){const t=a.index;e.Q6J("ngClass",e.WLB(1,yt,t%2==0,t%2!=0))}}const qt=function(){return[5,10,20]};let de=(()=>{class r{constructor(t,i,n,s,d,c){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this.searchInput="",this.loadingIndicator=!1,this._ngUnSubscribe=new A.x,this.savedSpeakerCodesDataSource=new p.by,this.displayedColumns=["sno","misCode","speakerName","specialty","qualification","speakerType","country","speakerCode","speakerCategory","actions"]}ngOnInit(){this._loadSavedSpeakerCodes()}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}_loadSavedSpeakerCodes(){this.loadingIndicator=!0,this._moduleService.getApprovedSpeakerCodeCreationDetails().subscribe(t=>{this.loadingIndicator=!1,console.log(["savedSpeakerCodes",t]),this.savedSpeakerCodesDataSource.data=t,this.savedSpeakerCodesDataSource.paginator=this.paginator},t=>{this.loadingIndicator=!1,console.error("Error loading saved speakers codes:",t)})}_applySavedSpeakerCodesFilter(t){this.savedSpeakerCodesDataSource.filter=t.trim().toLowerCase()}clearSearchInput(){this.searchInput="",this._applySavedSpeakerCodesFilter("")}editSpeakerCode(t){console.log(t),this._dialog.open(at,{width:"80%",data:t}).afterClosed().subscribe(n=>{console.log("Edit Speaker CLOSED")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-speakers"]],viewQuery:function(t,i){if(1&t&&e.Gf(z.NW,7),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first)}},hostVars:2,hostBindings:function(t,i){2&t&&e.Udp("overflow","auto")},decls:42,vars:9,consts:[[1,"search-box"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","input"],["mat-icon-button","","class","search-icon",4,"ngIf"],["mat-icon-button","","class","search-icon",3,"click",4,"ngIf"],[1,"table-responsive","table-bordered"],["mat-table","",1,"mat-elevation-z8","table","text-center","table-striped","overflow-hidden",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","misCode"],["matColumnDef","speakerName"],["matColumnDef","specialty"],["matColumnDef","qualification"],["matColumnDef","speakerType"],["matColumnDef","country"],["matColumnDef","speakerCode"],["matColumnDef","speakerCategory"],["matColumnDef","actions"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"isLoading"],["mat-icon-button","",1,"search-icon"],["mat-icon-button","",1,"search-icon",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"no-data-row"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"mat-form-field",0)(2,"input",1),e.NdJ("ngModelChange",function(s){return i.searchInput=s})("input",function(s){return i._applySavedSpeakerCodesFilter(s.target.value)}),e.qZA(),e.YNc(3,nt,3,0,"button",2),e.YNc(4,ot,3,0,"button",3),e.qZA(),e.TgZ(5,"div",4)(6,"table",5),e.ynx(7,6),e.YNc(8,st,2,0,"th",7),e.YNc(9,dt,2,1,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,lt,2,0,"th",7),e.YNc(12,ct,2,1,"td",8),e.BQk(),e.ynx(13,10),e.YNc(14,pt,2,0,"th",7),e.YNc(15,ut,2,1,"td",8),e.BQk(),e.ynx(16,11),e.YNc(17,Ct,2,0,"th",7),e.YNc(18,mt,2,1,"td",8),e.BQk(),e.ynx(19,12),e.YNc(20,gt,2,0,"th",7),e.YNc(21,ht,2,1,"td",8),e.BQk(),e.ynx(22,13),e.YNc(23,ft,2,0,"th",7),e.YNc(24,_t,2,1,"td",8),e.BQk(),e.ynx(25,14),e.YNc(26,Tt,2,0,"th",7),e.YNc(27,vt,2,1,"td",8),e.BQk(),e.ynx(28,15),e.YNc(29,It,2,0,"th",7),e.YNc(30,St,2,1,"td",8),e.BQk(),e.ynx(31,16),e.YNc(32,bt,2,0,"th",7),e.YNc(33,At,2,1,"td",8),e.BQk(),e.ynx(34,17),e.YNc(35,kt,2,0,"th",7),e.YNc(36,Zt,3,0,"td",8),e.BQk(),e.YNc(37,Nt,4,1,"ng-container",18),e.YNc(38,Ft,1,0,"tr",19),e.YNc(39,Ot,1,4,"tr",20),e.qZA(),e._UZ(40,"mat-paginator",21),e.qZA()(),e._UZ(41,"app-spinner-loader",22)),2&t&&(e.xp6(2),e.Q6J("ngModel",i.searchInput),e.xp6(1),e.Q6J("ngIf",!i.searchInput),e.xp6(1),e.Q6J("ngIf",i.searchInput),e.xp6(2),e.Q6J("dataSource",i.savedSpeakerCodesDataSource),e.xp6(32),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,qt)),e.xp6(1),e.Q6J("isLoading",i.loadingIndicator))},dependencies:[C.mk,C.O5,o.Fj,o.JJ,o.On,B.lW,h.KE,x.Nt,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,p.Ee,z.NW,M.Hw,N.r],styles:["table.table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black;\r\n  }\r\ntable.table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\nth[_ngcontent-%COMP%]{\r\n   text-align: center !important;\r\n   color: black;\r\n    border:1px solid black !important;\r\n}\r\n\r\n.mat-form-field[_ngcontent-%COMP%] {\r\n  width: 50%;\r\n  border-radius: 20px; \r\n}\r\n\r\n.no-data-row[_ngcontent-%COMP%] {\r\n  text-align: center;\r\n  color: black;\r\n  font-style: italic;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 50%;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin: 20px auto;\r\n}\r\n\r\n.search-icon[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  margin-top: -10px;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]     .mat-form-field-placeholder {\r\n  text-align: center;\r\n  color: black; \r\n}\r\n.mat-dialog-container[_ngcontent-%COMP%] {\r\n  max-height: 400px; \r\n  overflow-y: auto; \r\n}"]}),r})(),xt=(()=>{class r{constructor(t){this._router=t}ngOnInit(){this._router.queryParams.subscribe(t=>{console.log("params",t.action),this.selectedActionEvent="add"===t.action?1:0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-speaker-code-creation"]],decls:10,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[3,"selectedIndex"],["label","View Existing Speakers","routerLink","/master-list/speaker-code-creation/view-speakers"],["label","Add New Speaker","routerLink","/master-list/speaker-code-creation/add-speaker"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"mat-tab-group",4)(6,"mat-tab",5),e._UZ(7,"app-view-speakers"),e.qZA(),e.TgZ(8,"mat-tab",6),e._UZ(9,"app-add-speaker"),e.qZA()()()()()()()),2&t&&(e.xp6(5),e.Q6J("selectedIndex",i.selectedActionEvent))},dependencies:[S.rH,w.SP,w.uX,se,de]}),r})();var J=u(9602);function wt(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Vt(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Speciality),e.xp6(1),e.Oqu(t.Speciality)}}function Ut(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Mt(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Dt(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.CityName),e.xp6(1),e.Oqu(t.CityName)}}function Et(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.StateName),e.xp6(1),e.Oqu(t.StateName)}}function Jt(r,a){1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trainer Code"),e.qZA(),e._UZ(5,"input",38),e.qZA()()())}function Pt(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Name),e.xp6(1),e.Oqu(t.Name)}}function Bt(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function Qt(r,a){if(1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trained By "),e.YNc(5,Bt,2,0,"span",31),e.qZA(),e._UZ(6,"input",39),e.qZA()()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.isThreads)}}function Yt(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function Rt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trained On "),e.YNc(5,Yt,2,0,"span",31),e.qZA(),e.TgZ(6,"input",41),e.NdJ("focus",function(){e.CHM(t);const n=e.MAs(9);return e.KtG(n.open())}),e.qZA(),e._UZ(7,"mat-datepicker-toggle",42)(8,"mat-datepicker",null,43),e.qZA()()()}if(2&r){const t=e.MAs(9),i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}function Lt(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function Ht(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 3 options for Tier I Criteria, and any 2 from Options 4 to 6. "),e.qZA())}function jt(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options from Options 4 to 6. "),e.qZA())}function Kt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Criteria 1 to 3 along with any two criteria from 4 to 6 to be met)* Criteria 1 not applicable for filler procedure"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",46),e._uU(6," Certified through Menarini training course to do the procedure (Not applicable for fillers)"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",47),e._uU(9," Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",48),e._uU(12," Performed minimum 5 independent aesthetic procedure for the relevant product"),e.qZA()(),e.TgZ(13,"li")(14,"mat-checkbox",49),e._uU(15," Speaks/chairs sessions at international conferences"),e.qZA()(),e.TgZ(16,"li")(17,"mat-checkbox",50),e._uU(18," Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),e.qZA()(),e.TgZ(19,"li")(20,"mat-checkbox",51),e._uU(21," Practices as a specialist in their respective area of specialization with > 12 years of experience"),e.qZA()()(),e.YNc(22,Ht,2,0,"mat-error",45),e.YNc(23,jt,2,0,"mat-error",45),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(2),e.Q6J("ngIf",t.addTrainerCodeCreationForm.hasError("tierICriteriaInvalid")),e.xp6(1),e.Q6J("ngIf",t.addTrainerCodeCreationForm.hasError("tierIAdditionalOptionsInvalid"))}}function $t(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 3 options for Tier II Criteria, and any 2 from Options 4 to 6. "),e.qZA())}function zt(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options from Options 4 to 6. "),e.qZA())}function Gt(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Criteria 1 to 3 along with any two criteria from 4 to 6 to be met) *Criteria 1 not applicable for filler procedure"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",52),e._uU(6," Certified through Menarini training course to do the procedure (Not applicable for fillers)"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",53),e._uU(9," Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",54),e._uU(12," Performed minimum 5 independent aesthetic procedure for the relevant product"),e.qZA()(),e.TgZ(13,"li")(14,"mat-checkbox",55),e._uU(15," Speaks/chairs sessions at national conferences"),e.qZA()(),e.TgZ(16,"li")(17,"mat-checkbox",56),e._uU(18," Publishes regularly in leading clinical or scientific journals"),e.qZA()(),e.TgZ(19,"li")(20,"mat-checkbox",57),e._uU(21," Practices as a specialist in their respective area of specialization"),e.qZA()()(),e.YNc(22,$t,2,0,"mat-error",45),e.YNc(23,zt,2,0,"mat-error",45),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(2),e.Q6J("ngIf",t.addTrainerCodeCreationForm.hasError("tierIICriteriaInvalid")),e.xp6(1),e.Q6J("ngIf",t.addTrainerCodeCreationForm.hasError("tierIIAdditionalOptionsInvalid"))}}function Xt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-radio-button",44),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCriteriaSelectionIdChange(n))}),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.YNc(3,Kt,24,8,"div",45),e.YNc(4,Gt,24,8,"div",45),e.qZA()}if(2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf","Tier I Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier II Criteria"==t)}}function Wt(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}const X=function(r){return{"invalid-field":r}};function ei(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"div",58)(3,"mat-label",59),e._uU(4,"Upload Trainer Certificate "),e.YNc(5,Wt,2,0,"span",31),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"input",60),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCertificateFileSelected(n))}),e.qZA(),e.TgZ(8,"mat-icon",61),e._uU(9,"attach_file"),e.qZA()(),e._UZ(10,"br"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,X,t.addTrainerCodeCreationForm.get("trainerCertificate").invalid)),e.xp6(2),e.Q6J("ngIf",t.isThreads)}}function ti(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function ii(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"div",58)(3,"mat-label",59),e._uU(4,"Upload Trainer CV "),e.YNc(5,ti,2,0,"span",31),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"input",62),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCVFileSelected(n))}),e.qZA(),e.TgZ(8,"mat-icon",61),e._uU(9,"attach_file"),e.qZA()(),e._UZ(10,"br"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,X,t.addTrainerCodeCreationForm.get("trainerCV").invalid)),e.xp6(2),e.Q6J("ngIf",t.isThreads)}}let le=(()=>{class r{constructor(t,i,n,s,d,c,m,g){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this._router=m,this._authService=g,this.loadingIndicator=!1,this.trainers=[],this.trainerTypes=[],this.countries=[],this.specialities=[],this.trainerCriterias=[],this.trainerNameSelected="",this.trainerCertificateFileString="",this.trainerCVFileString="",this.isThreads=!1,this._ngUnSubscribe=new A.x}ngOnInit(){this.addTrainerCodeCreationForm=this._formBuilder.group({misCode:new o.NI("",o.kI.required),trainerName:new o.NI("",o.kI.required),trainerId:new o.NI,speciality:new o.NI("",o.kI.required),qualification:new o.NI("",o.kI.required),trainerType:new o.NI("",o.kI.required),country:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),city:new o.NI(""),state:new o.NI(""),trainerBrand:new o.NI,contactNumber:new o.NI("",o.kI.required),trainerCode:new o.NI,divisionId:new o.NI("",o.kI.required),trainerCriteriaSelectionId:new o.NI("",o.kI.required),trainerCategory:new o.NI,trainedBy:new o.NI,trainedOn:new o.NI,trainerCertificate:new o.NI,trainerCertificateFile:new o.NI,trainerCV:new o.NI,trainerCVFile:new o.NI,trainerCriteriasTireIOptions1:new o.NI,trainerCriteriasTireIOptions2:new o.NI,trainerCriteriasTireIOptions3:new o.NI,trainerCriteriasTireIOptions4:new o.NI,trainerCriteriasTireIOptions5:new o.NI,trainerCriteriasTireIOptions6:new o.NI,trainerCriteriasTireIIOptions1:new o.NI,trainerCriteriasTireIIOptions2:new o.NI,trainerCriteriasTireIIOptions3:new o.NI,trainerCriteriasTireIIOptions4:new o.NI,trainerCriteriasTireIIOptions5:new o.NI,trainerCriteriasTireIIOptions6:new o.NI},{validator:i=>{const n="Tier I Criteria"===i.get("trainerCriteriaSelectionId")?.value,s=[i.get("trainerCriteriasTireIOptions1")?.value,i.get("trainerCriteriasTireIOptions2")?.value,i.get("trainerCriteriasTireIOptions3")?.value,i.get("trainerCriteriasTireIOptions4")?.value,i.get("trainerCriteriasTireIOptions5")?.value,i.get("trainerCriteriasTireIOptions6")?.value],d="Tier II Criteria"===i.get("trainerCriteriaSelectionId")?.value,c=[i.get("trainerCriteriasTireIIOptions1")?.value,i.get("trainerCriteriasTireIIOptions2")?.value,i.get("trainerCriteriasTireIIOptions3")?.value,i.get("trainerCriteriasTireIIOptions4")?.value,i.get("trainerCriteriasTireIIOptions5")?.value,i.get("trainerCriteriasTireIIOptions6")?.value];if(n){if(s.slice(0,3).filter(Boolean).length<3)return{tierICriteriaInvalid:!0};if(s.slice(3).filter(Boolean).length<2)return{tierIAdditionalOptionsInvalid:!0}}if(d){if(c.slice(0,3).filter(Boolean).length<3)return{tierIICriteriaInvalid:!0};if(c.slice(3).filter(Boolean).length<2)return{tierIIAdditionalOptionsInvalid:!0}}return null}}),this.trainerTypes=this._moduleService.getTrainerTypesData(),this.countries=this._moduleService.getCountriesData(),this._moduleService.getSpecialitiesData().subscribe(i=>{console.log(i),this.specialities=i}),this.trainerCriterias=this._moduleService.getAllTrainerCriteriasData(),this._getDivisions(),this._getAllStates(),this._getAllCities(),this._getAllTrainerBrands(),this.addTrainerCodeCreationForm.valueChanges.subscribe(i=>{console.log(this.addTrainerCodeCreationForm.valid),console.log(this.addTrainerCodeCreationForm)}),this._filteredMISCodes=this.addTrainerCodeCreationForm.get("misCode").valueChanges.pipe((0,H.O)(""),(0,P.U)(i=>this._filterMISCodes(i))),this.addTrainerCodeCreationForm.get("city").valueChanges.subscribe(i=>{this._filterStates(i)}),this.addTrainerCodeCreationForm.get("trainerCriteriaSelectionId").valueChanges.subscribe(i=>{this.onTrainerCriteriaSelected(i)}),this.addTrainerCodeCreationForm.get("trainerBrand").valueChanges.subscribe(i=>{i.toLowerCase().includes("threads")?(this.addTrainerCodeCreationForm.get("trainedBy").enable(),this.addTrainerCodeCreationForm.get("trainedOn").enable(),this.isThreads=!0,this.addTrainerCodeCreationForm.get("trainedBy").setValidators([o.kI.required]),this.addTrainerCodeCreationForm.get("trainedOn").setValidators([o.kI.required]),this.addTrainerCodeCreationForm.get("trainerCertificate").setValidators([o.kI.required]),this.addTrainerCodeCreationForm.get("trainerCV").setValidators([o.kI.required]),this.addTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity()):(this.addTrainerCodeCreationForm.get("trainedBy").disable(),this.addTrainerCodeCreationForm.get("trainedOn").disable(),this.isThreads=!1,this.addTrainerCodeCreationForm.get("trainedBy").setValidators(null),this.addTrainerCodeCreationForm.get("trainedOn").setValidators(null),this.addTrainerCodeCreationForm.get("trainerCertificate").setValidators(null),this.addTrainerCodeCreationForm.get("trainerCV").setValidators(null),this.addTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.addTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity())}),this.addTrainerCodeCreationForm.get("trainedBy").disable(),this.addTrainerCodeCreationForm.get("trainedOn").disable(),this.isThreads=!1,this.addTrainerCodeCreationForm.get("trainerCertificate").setValidators(null),this.addTrainerCodeCreationForm.get("trainerCV").setValidators(null),this.addTrainerCodeCreationForm.get("trainedBy").setValidators(null),this.addTrainerCodeCreationForm.get("trainedOn").setValidators(null)}_getApprovedTrainers(){this._utilityService.getApprovedTrainersForAutocomplete().subscribe(t=>{console.log(t),this.trainers=t},t=>{console.error("Error loading trainers:",t)})}_getDivisions(){this._moduleService.getDivisionsData().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.divisions=t})}_getAllTrainerBrands(){this._utilityService.getBrandNames().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.brands=t;const i=new Set(this.brands.map(n=>n.BrandName));i.forEach(n=>{("Definisse Threads"==n||"Definisse Fillers"==n)&&(this.trainerBrands=Array.from(i).sort(),console.log(i))})})}_getAllStates(){this._utilityService.getAllStates().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.statesMaster=t})}_getAllCities(){this._utilityService.getAllCities().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.cities=t})}_filterStates(t){if(t.toString().toLowerCase(),""==t)return this.states=this.statesMaster;this.states=[];var n=[];return this.cities.forEach(s=>{s.CityName&&s.CityName==t&&n.push(s)}),n.forEach(s=>{this.statesMaster.forEach(d=>{console.log(d),d.StateId==s.StateId&&this.states.push(d)})}),this.states}_filterMISCodes(t){const n=t.toString().toLowerCase();console.log(n,this.trainers);var s=this.trainers.map(d=>d.MISCode).filter(d=>d&&d.toString().toLowerCase().includes(n));return s.push("N/A"),s}onMISCodeSelected(t){}onTrainerNameSelected(t){const n=this.findTrainerByTrainerName(t.option.value);console.log(n),n?(this.trainerNameSelected=n.trainerName,this.addTrainerCodeCreationForm.patchValue({misCode:n.MISCode,speciality:n.Speciality,qualification:n.Qualification,goNgoAgo:"no"==n.isNonGO?"GO":"N-GO",country:n.Country,address:n.Address,city:n.CityId,state:n.StateId})):(this.trainerNameSelected="",this.addTrainerCodeCreationForm.patchValue({speciality:"",qualification:"",country:"",address:"",city:"",state:""}))}findTrainerByMISCode(t){return this.trainers.find(i=>i.MISCode===t)}findTrainerByTrainerName(t){return this.trainers.find(i=>`${i.TrainerName} (${i.MISCode})`===t)}submit(){if(this.addTrainerCodeCreationForm.invalid){const n=this.collectErrors(this.addTrainerCodeCreationForm);this.openErrorDialog(n)}else if(this.addTrainerCodeCreationForm.valid){let n=this._authService.decodeToken();this.loadingIndicator=!0,""==this.trainerNameSelected&&this.addTrainerCodeCreationForm.get("trainerName");let s=[];var i=this.addTrainerCodeCreationForm.get("trainerCriteriaSelectionId").value;"Tier I Criteria"==i?(this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions1").value&&s.push("Certified through Menarini training course to do the procedure (Not applicable for fillers)"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions2").value&&s.push("Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions3").value&&s.push("Performed minimum 5 independent aesthetic procedure for the relevant product"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions4").value&&s.push("Speaks/chairs sessions at international conferences"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions5").value&&s.push("Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions6").value&&s.push("Practices as a specialist in their respective area of specialization with > 12 years of experience")):"Tier II Criteria"==i&&(this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions1").value&&s.push("Certified through Menarini training course to do the procedure (Not applicable for fillers)"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions2").value&&s.push("Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions3").value&&s.push("Performed minimum 5 independent aesthetic procedure for the relevant product"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions4").value&&s.push("Speaks/chairs sessions at national conferences"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions5").value&&s.push("Publishes regularly in leading clinical or scientific journals"),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions6").value&&s.push("Practices as a specialist in their respective area of specialization")),this.addTrainerCodeCreationForm.get("trainerName");let c=this.addTrainerCodeCreationForm.get("trainerCode").value,f=(this.addTrainerCodeCreationForm.get("trainerBrand"),this.addTrainerCodeCreationForm.get("misCode"),this.addTrainerCodeCreationForm.get("divisionId").value),_=this.addTrainerCodeCreationForm.get("speciality").value,y=this.addTrainerCodeCreationForm.get("qualification").value,b=this.addTrainerCodeCreationForm.get("address").value,I=this.addTrainerCodeCreationForm.get("city").value,ee=this.addTrainerCodeCreationForm.get("state").value,te=this.addTrainerCodeCreationForm.get("country").value,ie=this.addTrainerCodeCreationForm.get("contactNumber").value,Y=this.addTrainerCodeCreationForm.get("trainerType").value,R=this.addTrainerCodeCreationForm.get("trainedBy").value,L=this.addTrainerCodeCreationForm.get("trainedOn").value,re=this.addTrainerCodeCreationForm.get("trainerCategory").value,ae=this.addTrainerCodeCreationForm.get("trainerCriteriaSelectionId").value;this.brandsType="Threads"==this.addTrainerCodeCreationForm.get("trainerBrand").value?"Threads":"Fillers";const G={trainerName:this.addTrainerCodeCreationForm.get("trainerName").value+"",trainerCode:c||"",trainerBrand:this.brandsType,misCode:this.addTrainerCodeCreationForm.get("misCode").value.toString(),division:f,speciality:_,qualification:y,address:b,city:I,state:ee,country:te,contact_Number:ie,trainerType:Y||"",trainedby:R||"",trainerCV:this.trainerCVFileString||"",trainercertificate:this.trainerCertificateFileString||"",trainedon:L||"",trainer_Category:re,trainer_Criteria:ae,trainer_Criteria_Details:s.join(","),InitiatorNameName:n.unique_name||" ",InitiatorEmail:n.email||" ",salesHead:n.SalesHead,medicalAffairsHead:n.MarketingHead||" "};console.log("payload",G),this._moduleService.addTrainerCodeCreationDetails(G).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(D=>{D?(this.loadingIndicator=!1,this._snackBarService.showSnackBar(l.D.MESSAGE.SUCCESS.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS),this._router.navigate(["/master-list"])):this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},D=>{this.loadingIndicator=!1,console.log(D),this._snackBarService.showSnackBar(D.error.text?D.error.text:l.D.MESSAGE.ERROR.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)})}}onTrainerCertificateFileSelected(t){this.convertTrainerCertificateFileToBase64()}onTrainerCVFileSelected(t){this.convertTrainerCVFileToBase64()}convertTrainerCertificateFileToBase64(){const i=document.getElementById("trainerCertificate").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.trainerCertificateFileString=d.split(",")[1],console.log(d),this.addTrainerCodeCreationForm.patchValue({trainerCertificateFile:d})},s.readAsDataURL(n)}}convertTrainerCVFileToBase64(){const i=document.getElementById("trainerCV").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.trainerCVFileString=d.split(",")[1],this.addTrainerCodeCreationForm.patchValue({trainerCVFile:d})},s.readAsDataURL(n)}}isTrainerBrandThreads(){const{trainerBrand:t}=this.addTrainerCodeCreationForm.value;return!(!t||""===t.trim()||!t.toLowerCase().includes("threads"))}isTrainerMISCodeNA(){let{misCode:t}=this.addTrainerCodeCreationForm.value;return t=(t||"").toString(),!(!t||""===t.trim()||"N/A"===t.trim()||"n/a"===t.trim())}isHPCUserExist(){const{hcpName:t,misCode:i}=this.addTrainerCodeCreationForm.value;return""!==t.trim()&&i.trim(),!1}enableTrainer(){const{hcpName:t,misCode:i}=this.addTrainerCodeCreationForm.value;return""!==t.trim()&&""!==i.trim()}isTrainerCategoryEnable(){return!1}createNewHCPUser(){const{hcpName:t,misCode:i}=this.addTrainerCodeCreationForm.value;console.log("Creating new HCP User:",t,i)}findTrainerById(t){}onTrainerCriteriaSelected(t){this.addTrainerCodeCreationForm.patchValue({trainerCategory:this._moduleService.getTrainerCategoryFromCriteria(t)})}validateMisCode(){""!=this.addTrainerCodeCreationForm.get("misCode").value&&"N/A"!=this.addTrainerCodeCreationForm.get("misCode").value&&"n/a"!=this.addTrainerCodeCreationForm.get("misCode").value?(this.addTrainerCodeCreationForm.get("country").setValue("India"),this.loadingIndicator=!0,this._utilityService.getRowDataUsingMISCodeandType(this.addTrainerCodeCreationForm.get("misCode").value,"Trainer").subscribe(t=>{if(t&&t.message){let i=[];i.push(t.message),this.openErrorDialog(i)}else t?(this.addTrainerCodeCreationForm.get("trainerName").setValue(t[0].HCPName),this.addTrainerCodeCreationForm.get("address").setValue(t[0]["Company Name"]),this.addTrainerCodeCreationForm.get("trainerType").setValue(t[0].HcpType),this.addTrainerCodeCreationForm.get("trainerName").value&&this.addTrainerCodeCreationForm.get("trainerName").disable(),this.addTrainerCodeCreationForm.get("address").value&&this.addTrainerCodeCreationForm.get("address").disable(),this.addTrainerCodeCreationForm.get("trainerType").value&&this.addTrainerCodeCreationForm.get("trainerType").disable()):(this.addTrainerCodeCreationForm.get("trainerName").enable(),this.addTrainerCodeCreationForm.get("address").enable(),this.addTrainerCodeCreationForm.get("trainerType").enable());this.loadingIndicator=!1},t=>{console.error("Error loading hpc:",t),this.loadingIndicator=!1,this.addTrainerCodeCreationForm.get("trainerName").enable(),this.addTrainerCodeCreationForm.get("address").enable(),this.addTrainerCodeCreationForm.get("trainerType").enable()})):(this.addTrainerCodeCreationForm.get("trainerName").enable(),this.addTrainerCodeCreationForm.get("address").enable(),this.addTrainerCodeCreationForm.get("trainerType").enable())}isCriteriaOptionMatch(t){const{trainerCriteriaSelectionId:i}=this.addTrainerCodeCreationForm.value;return!(!i||i!=t)}onTrainerCriteriaSelectionIdChange(t){console.log("onTrainerCriteriaSelectionIdChange",t.value),"Tier I Criteria"==t.value?(this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions1").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions2").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions3").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions4").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions5").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions6").setValue(!1)):"Tier II Criteria"==t.value&&(this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions1").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions2").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions3").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions4").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions5").setValue(!1),this.addTrainerCodeCreationForm.get("trainerCriteriasTireIOptions6").setValue(!1))}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}collectErrors(t){const i=[];return i.push("Please fill all required fields."),i}openErrorDialog(t){this._dialog.open(j,{data:{errors:t}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C),e.Y36(S.F0),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-trainer"]],decls:125,vars:24,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Enter MIS Code","formControlName","misCode","pattern","[a-zA-Z0-9/]*","maxlength","10",3,"matAutocomplete","optionSelected","blur"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","trainerName"],["formControlName","speciality"],["matInput","","formControlName","qualification"],["formControlName","trainerType"],["formControlName","country"],["matInput","","formControlName","address"],["formControlName","city",3,"disabled"],["formControlName","state",3,"disabled"],["matInput","","formControlName","contactNumber"],["class","row",4,"ngIf"],["color","accent","appearance","outline"],["formControlName","divisionId"],["formControlName","trainerBrand"],["value","Threads"],["value","Fillers"],["formControlName","trainerCriteriaSelectionId",1,"trainerCriterias-radio-group",3,"ngClass"],["class","color_red",4,"ngIf"],["class","trainerCriterias-radio-button",3,"value","change",4,"ngFor","ngForOf"],["matInput","","placeholder","Auto generate","formControlName","trainerCategory","readonly",""],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm"],[3,"isLoading"],[3,"value"],["matInput","","formControlName","trainerCode"],["matInput","","placeholder","Trained by","formControlName","trainedBy"],[1,"color_red"],["matInput","","placeholder","Trained by","formControlName","trainedOn",3,"matDatepicker","focus"],["matSuffix","",3,"for"],["dobPicker",""],[1,"trainerCriterias-radio-button",3,"value","change"],[4,"ngIf"],["formControlName","trainerCriteriasTireIOptions1","value","Certified through Menarini training course to do the procedure (Not applicable for fillers)",3,"disabled"],["formControlName","trainerCriteriasTireIOptions2","value","Duly qualified and recognized by peers/ other specialists as an expert within his/her field",3,"disabled"],["formControlName","trainerCriteriasTireIOptions3","value","Performed minimum 5 independent aesthetic procedure for the relevant product",3,"disabled"],["formControlName","trainerCriteriasTireIOptions4","value","Speaks/chairs sessions at international conferences",3,"disabled"],["formControlName","trainerCriteriasTireIOptions5","value","Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals",3,"disabled"],["formControlName","trainerCriteriasTireIOptions6","value","Practices as a specialist in their respective area of specialization with > 12 years of experience",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions1","value","Certified through Menarini training course to do the procedure (Not applicable for fillers)",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions2","value","Duly qualified and recognized by peers/ other specialists as an expert within his/her field",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions3","value","Performed minimum 5 independent aesthetic procedure for the relevant product",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions4","value","Speaks/chairs sessions at national conferences",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions5","value","Publishes regularly in leading clinical or scientific journals",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions6","value","Practices as a specialist in their respective area of specialization",3,"disabled"],[1,"justify-content-center"],[3,"ngClass"],["type","file","id","trainerCertificate","formControlName","trainerCertificate","accept",".pdf, .docx, .jpg, .png",3,"change"],["matSuffix",""],["type","file","id","trainerCV","formControlName","trainerCV","accept",".pdf, .docx, .jpg, .png",3,"change"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Trainer Code Creation"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"div",2)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"MIS Code"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)})("blur",function(){return i.validateMisCode()}),e.qZA(),e.TgZ(20,"mat-autocomplete",12,13),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)}),e.YNc(22,wt,2,2,"mat-option",14),e.ALo(23,"async"),e.qZA()()()(),e.TgZ(24,"div",2)(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Trainer Name"),e.qZA(),e._UZ(29,"input",15),e.qZA()()(),e.TgZ(30,"div",2)(31,"div",9)(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Speciality"),e.qZA(),e.TgZ(35,"mat-select",16),e.YNc(36,Vt,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(37,"div",2)(38,"div",9)(39,"mat-form-field",10)(40,"mat-label"),e._uU(41,"Qualification"),e.qZA(),e._UZ(42,"input",17),e.qZA()()(),e.TgZ(43,"div",2)(44,"div",9)(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"HCP Type"),e.qZA(),e.TgZ(48,"mat-select",18),e.YNc(49,Ut,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(50,"div",2)(51,"div",9)(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Country"),e.qZA(),e.TgZ(55,"mat-select",19),e.YNc(56,Mt,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(57,"div",2)(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),e._uU(61,"Address"),e.qZA(),e._UZ(62,"input",20),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",9)(65,"mat-form-field",10)(66,"mat-label"),e._uU(67,"City"),e.qZA(),e.TgZ(68,"mat-select",21),e.YNc(69,Dt,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(70,"div",2)(71,"div",9)(72,"mat-form-field",10)(73,"mat-label"),e._uU(74,"State"),e.qZA(),e.TgZ(75,"mat-select",22),e.YNc(76,Et,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(77,"div",2)(78,"div",9)(79,"mat-form-field",10)(80,"mat-label"),e._uU(81,"Contact Number"),e.qZA(),e._UZ(82,"input",23),e.qZA()()(),e.YNc(83,Jt,6,0,"div",24),e.TgZ(84,"div",2)(85,"div",9)(86,"mat-form-field",25)(87,"mat-label"),e._uU(88,"Select Division"),e.qZA(),e.TgZ(89,"mat-select",26),e.YNc(90,Pt,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(91,"div",2)(92,"div",9)(93,"mat-form-field",25)(94,"mat-label"),e._uU(95,"Brand"),e.qZA(),e.TgZ(96,"mat-select",27)(97,"mat-option",28),e._uU(98,"Definisse Threads"),e.qZA(),e.TgZ(99,"mat-option",29),e._uU(100,"Definisse Fillers"),e.qZA()()()()(),e.YNc(101,Qt,7,1,"div",24),e.YNc(102,Rt,10,3,"div",24),e.TgZ(103,"div",2)(104,"div",9)(105,"div")(106,"mat-radio-group",30)(107,"mat-label"),e._uU(108,"Trainer criteria selection "),e.YNc(109,Lt,2,0,"span",31),e.qZA(),e.YNc(110,Xt,5,4,"mat-radio-button",32),e.qZA()()()(),e.TgZ(111,"div",2)(112,"div",9)(113,"mat-form-field",10)(114,"mat-label"),e._uU(115,"Trainer Category"),e.qZA(),e._UZ(116,"input",33),e.qZA()()(),e.YNc(117,ei,11,4,"div",24),e.YNc(118,ii,11,4,"div",24),e.TgZ(119,"div",2)(120,"div",9)(121,"div",34)(122,"button",35),e._uU(123,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(124,"app-spinner-loader",36),e.qZA()()()),2&t){const n=e.MAs(21);e.xp6(13),e.Q6J("formGroup",i.addTrainerCodeCreationForm),e.xp6(6),e.Q6J("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,20,i._filteredMISCodes)),e.xp6(14),e.Q6J("ngForOf",i.specialities),e.xp6(13),e.Q6J("ngForOf",i.trainerTypes),e.xp6(7),e.Q6J("ngForOf",i.countries),e.xp6(12),e.Q6J("disabled",!i.isTrainerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(6),e.Q6J("disabled",!i.isTrainerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.states),e.xp6(7),e.Q6J("ngIf",!1),e.xp6(7),e.Q6J("ngForOf",i.divisions),e.xp6(11),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngIf",i.isThreads),e.xp6(4),e.Q6J("ngClass",e.VKq(22,X,i.addTrainerCodeCreationForm.get("trainerCriteriaSelectionId").invalid)),e.xp6(3),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngForOf",i.trainerCriterias),e.xp6(7),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngIf",i.isThreads),e.xp6(6),e.Q6J("isLoading",i.loadingIndicator)}},dependencies:[C.mk,C.sg,C.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.c5,o.sg,o.u,h.TO,h.KE,h.hX,h.R9,x.Nt,K.gD,Q.ey,F.XC,F.ZL,V.VQ,V.U0,$.oG,M.Hw,J.Mq,J.hl,J.nW,N.r,C.Ov],styles:[".trainerCriterias-radio-group[_ngcontent-%COMP%] {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.trainerCriterias-radio-button[_ngcontent-%COMP%] {\r\n  margin: 5px;\r\n}\r\n\r\n  .mat-radio-label {\r\n  align-items: inherit!important;\r\n}\r\n\r\n.invalid-field[_ngcontent-%COMP%] {\r\n  border-color: red !important;\r\n  color: red;\r\n}"]}),r})();function ri(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ai(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Speciality),e.xp6(1),e.Oqu(t.Speciality)}}function ni(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function oi(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function si(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.CityName),e.xp6(1),e.Oqu(t.CityName)}}function di(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.StateName),e.xp6(1),e.Oqu(t.StateName)}}function li(r,a){1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trainer Code"),e.qZA(),e._UZ(5,"input",38),e.qZA()()())}function ci(r,a){if(1&r&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.s9C("value",t.Name),e.xp6(1),e.Oqu(t.Name)}}function pi(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function ui(r,a){if(1&r&&(e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trained By "),e.YNc(5,pi,2,0,"span",31),e.qZA(),e._UZ(6,"input",39),e.qZA()()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.isThreads)}}function Ci(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function mi(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),e._uU(4,"Trained On "),e.YNc(5,Ci,2,0,"span",31),e.qZA(),e.TgZ(6,"input",41),e.NdJ("focus",function(){e.CHM(t);const n=e.MAs(9);return e.KtG(n.open())}),e.qZA(),e._UZ(7,"mat-datepicker-toggle",42)(8,"mat-datepicker",null,43),e.qZA()()()}if(2&r){const t=e.MAs(9),i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}function gi(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function hi(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 3 options for Tier I Criteria, and any 2 from Options 4 to 6. "),e.qZA())}function fi(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options from Options 4 to 6. "),e.qZA())}function _i(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Criteria 1 to 3 along with any two criteria from 4 to 6 to be met)* Criteria 1 not applicable for filler procedure"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",46),e._uU(6," Certified through Menarini training course to do the procedure (Not applicable for fillers)"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",47),e._uU(9," Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",48),e._uU(12," Performed minimum 5 independent aesthetic procedure for the relevant product"),e.qZA()(),e.TgZ(13,"li")(14,"mat-checkbox",49),e._uU(15," Speaks/chairs sessions at international conferences"),e.qZA()(),e.TgZ(16,"li")(17,"mat-checkbox",50),e._uU(18," Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),e.qZA()(),e.TgZ(19,"li")(20,"mat-checkbox",51),e._uU(21," Practices as a specialist in their respective area of specialization with > 12 years of experience"),e.qZA()()(),e.YNc(22,hi,2,0,"mat-error",45),e.YNc(23,fi,2,0,"mat-error",45),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier I Criteria")),e.xp6(2),e.Q6J("ngIf",t.editTrainerCodeCreationForm.hasError("tierICriteriaInvalid")),e.xp6(1),e.Q6J("ngIf",t.editTrainerCodeCreationForm.hasError("tierIAdditionalOptionsInvalid"))}}function Ti(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 3 options for Tier II Criteria, and any 2 from Options 4 to 6. "),e.qZA())}function vi(r,a){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Please select at least 2 options from Options 4 to 6. "),e.qZA())}function Ii(r,a){if(1&r&&(e.TgZ(0,"div")(1,"b"),e._uU(2,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0(Criteria 1 to 3 along with any two criteria from 4 to 6 to be met) *Criteria 1 not applicable for filler procedure"),e.qZA(),e.TgZ(3,"ol")(4,"li")(5,"mat-checkbox",52),e._uU(6," Certified through Menarini training course to do the procedure (Not applicable for fillers)"),e.qZA()(),e.TgZ(7,"li")(8,"mat-checkbox",53),e._uU(9," Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),e.qZA()(),e.TgZ(10,"li")(11,"mat-checkbox",54),e._uU(12," Performed minimum 5 independent aesthetic procedure for the relevant product"),e.qZA()(),e.TgZ(13,"li")(14,"mat-checkbox",55),e._uU(15," Speaks/chairs sessions at national conferences"),e.qZA()(),e.TgZ(16,"li")(17,"mat-checkbox",56),e._uU(18," Publishes regularly in leading clinical or scientific journals"),e.qZA()(),e.TgZ(19,"li")(20,"mat-checkbox",57),e._uU(21," Practices as a specialist in their respective area of specialization"),e.qZA()()(),e.YNc(22,Ti,2,0,"mat-error",45),e.YNc(23,vi,2,0,"mat-error",45),e.qZA()),2&r){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(3),e.Q6J("disabled",!t.isCriteriaOptionMatch("Tier II Criteria")),e.xp6(2),e.Q6J("ngIf",t.editTrainerCodeCreationForm.hasError("tierIICriteriaInvalid")),e.xp6(1),e.Q6J("ngIf",t.editTrainerCodeCreationForm.hasError("tierIIAdditionalOptionsInvalid"))}}function Si(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"mat-radio-button",44),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCriteriaSelectionIdChange(n))}),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.YNc(3,_i,24,8,"div",45),e.YNc(4,Ii,24,8,"div",45),e.qZA()}if(2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf","Tier I Criteria"==t),e.xp6(1),e.Q6J("ngIf","Tier II Criteria"==t)}}function bi(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}const W=function(r){return{"invalid-field":r}};function Ai(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"div",58)(3,"mat-label",59),e._uU(4,"Upload Trainer Certificate "),e.YNc(5,bi,2,0,"span",31),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"input",60),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCertificateFileSelected(n))}),e.qZA(),e.TgZ(8,"mat-icon",61),e._uU(9,"attach_file"),e.qZA()(),e._UZ(10,"br"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,W,t.editTrainerCodeCreationForm.get("trainerCertificate").invalid)),e.xp6(2),e.Q6J("ngIf",t.isThreads)}}function ki(r,a){1&r&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function Zi(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",9)(2,"div",58)(3,"mat-label",59),e._uU(4,"Upload Trainer CV "),e.YNc(5,ki,2,0,"span",31),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"input",62),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onTrainerCVFileSelected(n))}),e.qZA(),e.TgZ(8,"mat-icon",61),e._uU(9,"attach_file"),e.qZA()(),e._UZ(10,"br"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,W,t.editTrainerCodeCreationForm.get("trainerCertificate").invalid)),e.xp6(2),e.Q6J("ngIf",t.isThreads)}}let Ni=(()=>{class r{constructor(t,i,n,s,d,c,m,g,f,_){this.data=t,this._http=i,this._formBuilder=n,this._dialog=s,this._utilityService=d,this._snackBarService=c,this._moduleService=m,this._router=g,this._authService=f,this.dialogRef=_,this.loadingIndicator=!1,this.trainers=[],this.trainerTypes=[],this.countries=[],this.specialities=[],this.trainerCriterias=[],this.trainerNameSelected="",this.trainerCertificateFileString="",this.trainerCVFileString="",this.isThreads=!1,this._ngUnSubscribe=new A.x}ngOnInit(){console.log(this.data);let i=this.data;i["Trainer Brand"]="Threads"==i["Trainer Brand"]?"Threads":"Fillers",console.log(i),this.editTrainerCodeCreationForm=this._formBuilder.group({misCode:new o.NI(i.MisCode?i.MisCode:"",o.kI.required),trainerName:new o.NI(i["Trainer Name"]?i["Trainer Name"]:"",o.kI.required),trainerId:new o.NI(i.TrainerId?i.TrainerId:""),speciality:new o.NI(i.Speciality?i.Speciality:"",o.kI.required),qualification:new o.NI(i.Qualification?i.Qualification:"",o.kI.required),trainerType:new o.NI(i["Trainer Type"]?i["Trainer Type"]:"",o.kI.required),country:new o.NI(i.Country?i.Country:"",o.kI.required),address:new o.NI(i.Address?i.Address:"",o.kI.required),city:new o.NI(i.City?i.City:""),state:new o.NI(i.State?i.State:""),trainerBrand:new o.NI(i["Trainer Brand"]?i["Trainer Brand"]:""),contactNumber:new o.NI(i["Contact Number"]?i["Contact Number"]:"",o.kI.required),trainerCode:new o.NI(i["Trainer Code"]?i["Trainer Code"]:""),divisionId:new o.NI(i.Division?i.Division:"",o.kI.required),trainerCriteriaSelectionId:new o.NI(i["Trainer Criteria"]?i["Trainer Criteria"]:"",o.kI.required),trainerCategory:new o.NI(i["Trainer Category"]?i["Trainer Category"]:""),trainedBy:new o.NI(i["Trained by"]?i["Trained by"]:""),trainedOn:new o.NI(i["Trained on"]?i["Trained on"]:""),trainerCertificate:new o.NI,trainerCertificateFile:new o.NI,trainerCV:new o.NI,trainerCVFile:new o.NI,trainerCriteriasTireIOptions1:new o.NI,trainerCriteriasTireIOptions2:new o.NI,trainerCriteriasTireIOptions3:new o.NI,trainerCriteriasTireIOptions4:new o.NI,trainerCriteriasTireIOptions5:new o.NI,trainerCriteriasTireIOptions6:new o.NI,trainerCriteriasTireIIOptions1:new o.NI,trainerCriteriasTireIIOptions2:new o.NI,trainerCriteriasTireIIOptions3:new o.NI,trainerCriteriasTireIIOptions4:new o.NI,trainerCriteriasTireIIOptions5:new o.NI,trainerCriteriasTireIIOptions6:new o.NI},{validator:d=>{const c="Tier I Criteria"===d.get("trainerCriteriaSelectionId")?.value,m=[d.get("trainerCriteriasTireIOptions1")?.value,d.get("trainerCriteriasTireIOptions2")?.value,d.get("trainerCriteriasTireIOptions3")?.value,d.get("trainerCriteriasTireIOptions4")?.value,d.get("trainerCriteriasTireIOptions5")?.value,d.get("trainerCriteriasTireIOptions6")?.value],g="Tier II Criteria"===d.get("trainerCriteriaSelectionId")?.value,f=[d.get("trainerCriteriasTireIIOptions1")?.value,d.get("trainerCriteriasTireIIOptions2")?.value,d.get("trainerCriteriasTireIIOptions3")?.value,d.get("trainerCriteriasTireIIOptions4")?.value,d.get("trainerCriteriasTireIIOptions5")?.value,d.get("trainerCriteriasTireIIOptions6")?.value];if(c){if(m.slice(0,3).filter(Boolean).length<3)return{tierICriteriaInvalid:!0};if(m.slice(3).filter(Boolean).length<2)return{tierIAdditionalOptionsInvalid:!0}}if(g){if(f.slice(0,3).filter(Boolean).length<3)return{tierIICriteriaInvalid:!0};if(f.slice(3).filter(Boolean).length<2)return{tierIIAdditionalOptionsInvalid:!0}}return null}}),this.trainerTypes=this._moduleService.getTrainerTypesData(),this.countries=this._moduleService.getCountriesData();let n=i["Trainer Criteria"]?i["Trainer Criteria"]:"",s=(i["Trainer Criteria Details"]?i["Trainer Criteria Details"]:"").toLowerCase();"Tier I Criteria"==n?(s.includes("certified through menarini training course to do the procedure (not applicable for fillers)")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions1:!0}),s.includes("duly qualified and recognized by peers/ other specialists as an expert within his/her field")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions2:!0}),s.includes("performed minimum 5 independent aesthetic procedure for the relevant product")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions3:!0}),s.includes("speaks/chairs sessions at international conferences")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions4:!0}),s.includes("author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions5:!0}),s.includes("practices as a specialist in their respective area of specialization with > 12 years of experience")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIOptions6:!0})):"Tier II Criteria"==n&&(s.includes("certified through menarini training course to do the procedure (not applicable for fillers)")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions1:!0}),s.includes("duly qualified and recognized by peers/ other specialists as an expert within his/her field")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions2:!0}),s.includes("performed minimum 5 independent aesthetic procedure for the relevant product")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions3:!0}),s.includes("speaks/chairs sessions at national conferences")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions4:!0}),s.includes("publishes regularly in leading clinical or scientific journals")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions5:!0}),s.includes("practices as a specialist in their respective area of specialization")&&this.editTrainerCodeCreationForm.patchValue({trainerCriteriasTireIIOptions6:!0})),this._moduleService.getSpecialitiesData().subscribe(d=>{console.log(d),this.specialities=d}),this.trainerCriterias=this._moduleService.getAllTrainerCriteriasData(),this._getDivisions(),this._getAllStates(),this._getAllCities(),this._getAllTrainerBrands(),this._filteredMISCodes=this.editTrainerCodeCreationForm.get("misCode").valueChanges.pipe((0,H.O)(""),(0,P.U)(d=>this._filterMISCodes(d))),this.editTrainerCodeCreationForm.get("city").valueChanges.subscribe(d=>{this._filterStates(d)}),this.editTrainerCodeCreationForm.get("trainerCriteriaSelectionId").valueChanges.subscribe(d=>{this.onTrainerCriteriaSelected(d)}),this.editTrainerCodeCreationForm.get("trainerBrand").valueChanges.subscribe(d=>{d.toLowerCase().includes("threads")?(this.editTrainerCodeCreationForm.get("trainedBy").enable(),this.editTrainerCodeCreationForm.get("trainedOn").enable(),this.isThreads=!0,this.editTrainerCodeCreationForm.get("trainedBy").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainedOn").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCertificate").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCV").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity()):(this.editTrainerCodeCreationForm.get("trainedBy").disable(),this.editTrainerCodeCreationForm.get("trainedOn").disable(),this.isThreads=!1,this.editTrainerCodeCreationForm.get("trainedBy").setValidators(null),this.editTrainerCodeCreationForm.get("trainedOn").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCertificate").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCV").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity())}),this.editTrainerCodeCreationForm.get("trainerBrand").value.toLowerCase().includes("threads")?(this.editTrainerCodeCreationForm.get("trainedBy").enable(),this.editTrainerCodeCreationForm.get("trainedOn").enable(),this.isThreads=!0,this.editTrainerCodeCreationForm.get("trainedBy").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainedOn").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCertificate").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCV").setValidators([o.kI.required]),this.editTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity()):(this.editTrainerCodeCreationForm.get("trainedBy").disable(),this.editTrainerCodeCreationForm.get("trainedOn").disable(),this.isThreads=!1,this.editTrainerCodeCreationForm.get("trainedBy").setValidators(null),this.editTrainerCodeCreationForm.get("trainedOn").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCertificate").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCV").setValidators(null),this.editTrainerCodeCreationForm.get("trainerCertificate").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainerCV").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedBy").updateValueAndValidity(),this.editTrainerCodeCreationForm.get("trainedOn").updateValueAndValidity())}_getApprovedTrainers(){this._utilityService.getApprovedTrainersForAutocomplete().subscribe(t=>{console.log(t),this.trainers=t},t=>{console.error("Error loading trainers:",t)})}_getDivisions(){this._moduleService.getDivisionsData().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.divisions=t})}_getAllTrainerBrands(){this._utilityService.getBrandNames().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.brands=t;const i=new Set(this.brands.map(n=>n.BrandName));i.forEach(n=>{("Definisse Threads"==n||"Definisse Fillers"==n)&&(this.trainerBrands=Array.from(i).sort(),console.log(i))})})}_getAllStates(){this._utilityService.getAllStates().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.statesMaster=t})}_getAllCities(){this._utilityService.getAllCities().pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(t=>{this.cities=t})}_filterStates(t){if(t.toString().toLowerCase(),""==t)return this.states=this.statesMaster;this.states=[];var n=[];return this.cities.forEach(s=>{s.CityName&&s.CityName==t&&n.push(s)}),n.forEach(s=>{this.statesMaster.forEach(d=>{console.log(d),d.StateId==s.StateId&&this.states.push(d)})}),this.states}_filterMISCodes(t){const n=t.toString().toLowerCase();console.log(n,this.trainers);var s=this.trainers.map(d=>d.MISCode).filter(d=>d&&d.toString().toLowerCase().includes(n));return s.push("N/A"),s}onMISCodeSelected(t){const i=t.option.value,n=this.findTrainerByMISCode(i);console.log(n),this.editTrainerCodeCreationForm.patchValue(n?{trainerName:n.TrainerName,speciality:n.Speciality,qualification:n.Qualification,trainerType:n.TrainerType,country:n.Country,address:n.Address,city:n.CityId,state:n.StateId}:"N/A"==i?{speciality:"",qualification:"",country:"India",address:"",city:"",state:"",trainerCode:""}:{speciality:"",qualification:"",country:"",address:"",city:"",state:"",trainerCode:""})}onTrainerNameSelected(t){const n=this.findTrainerByTrainerName(t.option.value);console.log(n),n?(this.trainerNameSelected=n.trainerName,this.editTrainerCodeCreationForm.patchValue({misCode:n.MISCode,speciality:n.Speciality,qualification:n.Qualification,goNgoAgo:"no"==n.isNonGO?"GO":"N-GO",country:n.Country,address:n.Address,city:n.CityId,state:n.StateId})):(this.trainerNameSelected="",this.editTrainerCodeCreationForm.patchValue({speciality:"",qualification:"",country:"",address:"",city:"",state:""}))}findTrainerByMISCode(t){return this.trainers.find(i=>i.MISCode===t)}findTrainerByTrainerName(t){return this.trainers.find(i=>`${i.TrainerName} (${i.MISCode})`===t)}submit(){if(this.editTrainerCodeCreationForm.invalid){const E=this.collectErrors(this.editTrainerCodeCreationForm);return void this.openErrorDialog(E)}let t=this._authService.decodeToken();this.loadingIndicator=!0,""==this.trainerNameSelected&&this.editTrainerCodeCreationForm.get("trainerName");let n=[];var s=this.editTrainerCodeCreationForm.get("trainerCriteriaSelectionId").value;"Tier I Criteria"==s?(this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions1").value&&n.push("Certified through Menarini training course to do the procedure (Not applicable for fillers)"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions2").value&&n.push("Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions3").value&&n.push("Performed minimum 5 independent aesthetic procedure for the relevant product"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions4").value&&n.push("Speaks/chairs sessions at international conferences"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions5").value&&n.push("Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions6").value&&n.push("Practices as a specialist in their respective area of specialization with > 12 years of experience")):"Tier II Criteria"==s&&(this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions1").value&&n.push("Certified through Menarini training course to do the procedure (Not applicable for fillers)"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions2").value&&n.push("Duly qualified and recognized by peers/ other specialists as an expert within his/her field"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions3").value&&n.push("Performed minimum 5 independent aesthetic procedure for the relevant product"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions4").value&&n.push("Speaks/chairs sessions at national conferences"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions5").value&&n.push("Publishes regularly in leading clinical or scientific journals"),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions6").value&&n.push("Practices as a specialist in their respective area of specialization")),this.editTrainerCodeCreationForm.get("trainerName").value.toString();let c=this.editTrainerCodeCreationForm.get("trainerCode").value.toString(),f=(this.editTrainerCodeCreationForm.get("trainerBrand").value.toString(),this.editTrainerCodeCreationForm.get("misCode").value.toString(),this.editTrainerCodeCreationForm.get("divisionId").value.toString()),_=this.editTrainerCodeCreationForm.get("speciality").value.toString(),y=this.editTrainerCodeCreationForm.get("qualification").value.toString(),b=this.editTrainerCodeCreationForm.get("address").value.toString(),I=this.editTrainerCodeCreationForm.get("city").value.toString(),ee=this.editTrainerCodeCreationForm.get("state").value.toString(),te=this.editTrainerCodeCreationForm.get("country").value.toString(),ie=this.editTrainerCodeCreationForm.get("contactNumber").value.toString(),Y=this.editTrainerCodeCreationForm.get("trainerType").value.toString(),R=this.editTrainerCodeCreationForm.get("trainedBy").value.toString(),L=this.editTrainerCodeCreationForm.get("trainedOn").value.toString(),re=this.editTrainerCodeCreationForm.get("trainerCategory").value.toString(),ae=this.editTrainerCodeCreationForm.get("trainerCriteriaSelectionId").value.toString();this.brandsType="Threads"==this.editTrainerCodeCreationForm.get("trainerBrand").value?"Threads":"Fillers";let G=this.trainerCVFileString||"",D=this.trainerCertificateFileString||"";const Ce={trainerId:this.editTrainerCodeCreationForm.get("trainerId").value.toString(),trainerName:this.editTrainerCodeCreationForm.get("trainerName").value+"",trainerCode:c||"",trainerBrand:this.brandsType,misCode:this.editTrainerCodeCreationForm.get("misCode").value.toString(),division:f,speciality:_,qualification:y,address:b,city:I,state:ee,country:te,contact_Number:ie,trainerType:Y||"",trainedby:R||"",trainerCV:G,trainercertificate:D,trainedon:L||"",trainer_Category:re,trainer_Criteria:ae,trainer_Criteria_Details:n.join(","),InitiatorNameName:t.unique_name||" ",InitiatorEmail:t.email||" ",salesHead:t.SalesHead,medicalAffairsHead:t.MarketingHead||" "};console.log("payload",Ce),this._moduleService.updateTrainerDatausingTrainerId(Ce).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(E=>{E?(this.loadingIndicator=!1,this._snackBarService.showSnackBar(l.D.MESSAGE.SUCCESS.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS),this.dialogRef.close(),this._router.navigate(["/master-list"])):this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},E=>{this.loadingIndicator=!1,console.log(E),this._snackBarService.showSnackBar(E.error.text?E.error.text:l.D.MESSAGE.ERROR.ADD_TRAINERCODE,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)})}onTrainerCertificateFileSelected(t){this.convertTrainerCertificateFileToBase64()}onTrainerCVFileSelected(t){this.convertTrainerCVFileToBase64()}convertTrainerCertificateFileToBase64(){const i=document.getElementById("trainerCertificate").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.trainerCertificateFileString=d.split(",")[1],console.log(d),this.editTrainerCodeCreationForm.patchValue({trainerCertificateFile:d})},s.readAsDataURL(n)}}convertTrainerCVFileToBase64(){const i=document.getElementById("trainerCV").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.trainerCVFileString=d.split(",")[1],this.editTrainerCodeCreationForm.patchValue({trainerCVFile:d})},s.readAsDataURL(n)}}isTrainerBrandThreads(){const{trainerBrand:t}=this.editTrainerCodeCreationForm.value;return console.log(t),!(!t||""===t.trim()||!t.toLowerCase().includes("threads"))}isTrainerMISCodeNA(){let{misCode:t}=this.editTrainerCodeCreationForm.value;return t=(t||"").toString(),console.log(t),!(!t||""===t.trim()||"N/A"===t.trim())}isHPCUserExist(){const{hcpName:t,misCode:i}=this.editTrainerCodeCreationForm.value;return""!==t.trim()&&i.trim(),!1}enableTrainer(){const{hcpName:t,misCode:i}=this.editTrainerCodeCreationForm.value;return""!==t.trim()&&""!==i.trim()}isTrainerCategoryEnable(){return!1}createNewHCPUser(){const{hcpName:t,misCode:i}=this.editTrainerCodeCreationForm.value;console.log("Creating new HCP User:",t,i)}findTrainerById(t){}onTrainerCriteriaSelected(t){this.editTrainerCodeCreationForm.patchValue({trainerCategory:this._moduleService.getTrainerCategoryFromCriteria(t)})}validateMisCode(){let t=this.data;""!=this.editTrainerCodeCreationForm.get("misCode").value&&this.editTrainerCodeCreationForm.get("misCode").value!=t.MisCode&&"N/A"!=this.editTrainerCodeCreationForm.get("misCode").value&&"n/a"!=this.editTrainerCodeCreationForm.get("misCode").value?(this.loadingIndicator=!0,console.log(this.editTrainerCodeCreationForm.get("misCode").value),this._utilityService.getRowDataUsingMISCodeandType(this.editTrainerCodeCreationForm.get("misCode").value,"Trainer").subscribe(i=>{if(console.log(i),i&&i.message){let n=[];n.push(i.message),this.openErrorDialog(n)}else i?(this.editTrainerCodeCreationForm.get("trainerName").setValue(i[0].HCPName),this.editTrainerCodeCreationForm.get("address").setValue(i[0]["Company Name"]),this.editTrainerCodeCreationForm.get("trainerType").setValue(i[0].HcpType),this.editTrainerCodeCreationForm.get("trainerName").value&&this.editTrainerCodeCreationForm.get("trainerName").disable(),this.editTrainerCodeCreationForm.get("address").value&&this.editTrainerCodeCreationForm.get("address").disable(),this.editTrainerCodeCreationForm.get("trainerType").value&&this.editTrainerCodeCreationForm.get("trainerType").disable()):(this.editTrainerCodeCreationForm.get("trainerName").enable(),this.editTrainerCodeCreationForm.get("address").enable(),this.editTrainerCodeCreationForm.get("trainerType").enable());this.loadingIndicator=!1},i=>{console.error("Error loading hpc:",i),this.loadingIndicator=!1})):(this.editTrainerCodeCreationForm.get("trainerName").enable(),this.editTrainerCodeCreationForm.get("address").enable(),this.editTrainerCodeCreationForm.get("trainerType").enable())}isCriteriaOptionMatch(t){const{trainerCriteriaSelectionId:i}=this.editTrainerCodeCreationForm.value;return!(!i||i!=t)}onTrainerCriteriaSelectionIdChange(t){console.log("onTrainerCriteriaSelectionIdChange",t.value),"Tier I Criteria"==t.value?(this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions1").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions2").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions3").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions4").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions5").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIIOptions6").setValue(!1)):"Tier II Criteria"==t.value&&(this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions1").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions2").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions3").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions4").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions5").setValue(!1),this.editTrainerCodeCreationForm.get("trainerCriteriasTireIOptions6").setValue(!1))}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}collectErrors(t){const i=[];return i.push("Please fill all required fields."),i}openErrorDialog(t){this._dialog.open(j,{data:{errors:t}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.WI),e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C),e.Y36(S.F0),e.Y36(U.e),e.Y36(v.so))},r.\u0275cmp=e.Xpm({type:r,selectors:[["edit-add-trainer"]],decls:125,vars:24,consts:[[1,"main-content","withscrollbar"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Enter MIS Code","formControlName","misCode","pattern","[a-zA-Z0-9/]*","maxlength","10",3,"matAutocomplete","optionSelected","blur"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","trainerName"],["formControlName","speciality"],["matInput","","formControlName","qualification"],["formControlName","trainerType"],["formControlName","country"],["matInput","","formControlName","address"],["formControlName","city",3,"disabled"],["formControlName","state",3,"disabled"],["matInput","","formControlName","contactNumber"],["class","row",4,"ngIf"],["color","accent","appearance","outline"],["formControlName","divisionId"],["formControlName","trainerBrand"],["value","Threads"],["value","Fillers"],["formControlName","trainerCriteriaSelectionId",1,"trainerCriterias-radio-group",3,"ngClass"],["class","color_red",4,"ngIf"],["class","trainerCriterias-radio-button",3,"value","change",4,"ngFor","ngForOf"],["matInput","","placeholder","Auto generate","formControlName","trainerCategory","readonly",""],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm"],[3,"isLoading"],[3,"value"],["matInput","","formControlName","trainerCode"],["matInput","","placeholder","Trained by","formControlName","trainedBy"],[1,"color_red"],["matInput","","placeholder","Trained by","formControlName","trainedOn",3,"matDatepicker","focus"],["matSuffix","",3,"for"],["dobPicker",""],[1,"trainerCriterias-radio-button",3,"value","change"],[4,"ngIf"],["formControlName","trainerCriteriasTireIOptions1","value","Certified through Menarini training course to do the procedure (Not applicable for fillers)",3,"disabled"],["formControlName","trainerCriteriasTireIOptions2","value","Duly qualified and recognized by peers/ other specialists as an expert within his/her field",3,"disabled"],["formControlName","trainerCriteriasTireIOptions3","value","Performed minimum 5 independent aesthetic procedure for the relevant product",3,"disabled"],["formControlName","trainerCriteriasTireIOptions4","value","Speaks/chairs sessions at international conferences",3,"disabled"],["formControlName","trainerCriteriasTireIOptions5","value","Author/editor of leading textbooks or publishes in leading clinical peer-reviewed journals",3,"disabled"],["formControlName","trainerCriteriasTireIOptions6","value","Practices as a specialist in their respective area of specialization with > 12 years of experience",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions1","value","Certified through Menarini training course to do the procedure (Not applicable for fillers)",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions2","value","Duly qualified and recognized by peers/ other specialists as an expert within his/her field",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions3","value","Performed minimum 5 independent aesthetic procedure for the relevant product",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions4","value","Speaks/chairs sessions at national conferences",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions5","value","Publishes regularly in leading clinical or scientific journals",3,"disabled"],["formControlName","trainerCriteriasTireIIOptions6","value","Practices as a specialist in their respective area of specialization",3,"disabled"],[1,"justify-content-center"],[3,"ngClass"],["type","file","id","trainerCertificate","formControlName","trainerCertificate","accept",".pdf, .docx, .jpg, .png",3,"change"],["matSuffix",""],["type","file","id","trainerCV","formControlName","trainerCV","accept",".pdf, .docx, .jpg, .png",3,"change"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Trainer Code Update"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"div",2)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"MIS Code"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)})("blur",function(){return i.validateMisCode()}),e.qZA(),e.TgZ(20,"mat-autocomplete",12,13),e.NdJ("optionSelected",function(s){return i.onMISCodeSelected(s)}),e.YNc(22,ri,2,2,"mat-option",14),e.ALo(23,"async"),e.qZA()()()(),e.TgZ(24,"div",2)(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Trainer Name"),e.qZA(),e._UZ(29,"input",15),e.qZA()()(),e.TgZ(30,"div",2)(31,"div",9)(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Speciality"),e.qZA(),e.TgZ(35,"mat-select",16),e.YNc(36,ai,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(37,"div",2)(38,"div",9)(39,"mat-form-field",10)(40,"mat-label"),e._uU(41,"Qualification"),e.qZA(),e._UZ(42,"input",17),e.qZA()()(),e.TgZ(43,"div",2)(44,"div",9)(45,"mat-form-field",10)(46,"mat-label"),e._uU(47,"HCP Type"),e.qZA(),e.TgZ(48,"mat-select",18),e.YNc(49,ni,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(50,"div",2)(51,"div",9)(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Country"),e.qZA(),e.TgZ(55,"mat-select",19),e.YNc(56,oi,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(57,"div",2)(58,"div",9)(59,"mat-form-field",10)(60,"mat-label"),e._uU(61,"Address"),e.qZA(),e._UZ(62,"input",20),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",9)(65,"mat-form-field",10)(66,"mat-label"),e._uU(67,"City"),e.qZA(),e.TgZ(68,"mat-select",21),e.YNc(69,si,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(70,"div",2)(71,"div",9)(72,"mat-form-field",10)(73,"mat-label"),e._uU(74,"State"),e.qZA(),e.TgZ(75,"mat-select",22),e.YNc(76,di,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(77,"div",2)(78,"div",9)(79,"mat-form-field",10)(80,"mat-label"),e._uU(81,"Contact Number"),e.qZA(),e._UZ(82,"input",23),e.qZA()()(),e.YNc(83,li,6,0,"div",24),e.TgZ(84,"div",2)(85,"div",9)(86,"mat-form-field",25)(87,"mat-label"),e._uU(88,"Select Division"),e.qZA(),e.TgZ(89,"mat-select",26),e.YNc(90,ci,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(91,"div",2)(92,"div",9)(93,"mat-form-field",25)(94,"mat-label"),e._uU(95,"Brand"),e.qZA(),e.TgZ(96,"mat-select",27)(97,"mat-option",28),e._uU(98,"Definisse Threads"),e.qZA(),e.TgZ(99,"mat-option",29),e._uU(100,"Definisse Fillers"),e.qZA()()()()(),e.YNc(101,ui,7,1,"div",24),e.YNc(102,mi,10,3,"div",24),e.TgZ(103,"div",2)(104,"div",9)(105,"div")(106,"mat-radio-group",30)(107,"mat-label"),e._uU(108,"Trainer criteria selection "),e.YNc(109,gi,2,0,"span",31),e.qZA(),e.YNc(110,Si,5,4,"mat-radio-button",32),e.qZA()()()(),e.TgZ(111,"div",2)(112,"div",9)(113,"mat-form-field",10)(114,"mat-label"),e._uU(115,"Trainer Category"),e.qZA(),e._UZ(116,"input",33),e.qZA()()(),e.YNc(117,Ai,11,4,"div",24),e.YNc(118,Zi,11,4,"div",24),e.TgZ(119,"div",2)(120,"div",9)(121,"div",34)(122,"button",35),e._uU(123,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(124,"app-spinner-loader",36),e.qZA()()()),2&t){const n=e.MAs(21);e.xp6(13),e.Q6J("formGroup",i.editTrainerCodeCreationForm),e.xp6(6),e.Q6J("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,20,i._filteredMISCodes)),e.xp6(14),e.Q6J("ngForOf",i.specialities),e.xp6(13),e.Q6J("ngForOf",i.trainerTypes),e.xp6(7),e.Q6J("ngForOf",i.countries),e.xp6(12),e.Q6J("disabled",!i.isTrainerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.cities),e.xp6(6),e.Q6J("disabled",!i.isTrainerMISCodeNA()),e.xp6(1),e.Q6J("ngForOf",i.states),e.xp6(7),e.Q6J("ngIf",!1),e.xp6(7),e.Q6J("ngForOf",i.divisions),e.xp6(11),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngIf",i.isThreads),e.xp6(4),e.Q6J("ngClass",e.VKq(22,W,i.editTrainerCodeCreationForm.get("trainerCriteriaSelectionId").invalid)),e.xp6(3),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngForOf",i.trainerCriterias),e.xp6(7),e.Q6J("ngIf",i.isThreads),e.xp6(1),e.Q6J("ngIf",i.isThreads),e.xp6(6),e.Q6J("isLoading",i.loadingIndicator)}},dependencies:[C.mk,C.sg,C.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.c5,o.sg,o.u,h.TO,h.KE,h.hX,h.R9,x.Nt,K.gD,Q.ey,F.XC,F.ZL,V.VQ,V.U0,$.oG,M.Hw,J.Mq,J.hl,J.nW,N.r,C.Ov],styles:[".trainerCriterias-radio-group[_ngcontent-%COMP%] {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.trainerCriterias-radio-button[_ngcontent-%COMP%] {\r\n  margin: 5px;\r\n}\r\n\r\n  .mat-radio-label {\r\n  align-items: inherit!important;\r\n}\r\n\r\n.withscrollbar[_ngcontent-%COMP%] {\r\n  max-height: 600px; \r\n  overflow-y: auto; \r\n}\r\n\r\n.invalid-field[_ngcontent-%COMP%] {\r\n  border-color: red !important;\r\n  color: red;\r\n}"]}),r})();function Fi(r,a){1&r&&(e.TgZ(0,"button",23)(1,"mat-icon"),e._uU(2,"search"),e.qZA()())}function yi(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearSearchInput())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function Oi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," S.no "),e.qZA())}function qi(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.index,i=e.oxw();e.xp6(1),e.hij(" ",i.paginator.pageIndex*i.paginator.pageSize+t+1," ")}}function xi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," MIS Code "),e.qZA())}function wi(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.MisCode," ")}}function Vi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Trainer Name "),e.qZA())}function Ui(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Trainer Name"]," ")}}function Mi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Specialty "),e.qZA())}function Di(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Speciality," ")}}function Ei(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Qualification "),e.qZA())}function Ji(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Qualification," ")}}function Pi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Trainer Type "),e.qZA())}function Bi(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Trainer Type"]," ")}}function Qi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Country "),e.qZA())}function Yi(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.Country," ")}}function Ri(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Trainer Code "),e.qZA())}function Li(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Trainer Code"]," ")}}function Hi(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Trainer Category "),e.qZA())}function ji(r,a){if(1&r&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Trainer Category"]," ")}}function Ki(r,a){1&r&&(e.TgZ(0,"th",25),e._uU(1," Actions "),e.qZA())}function $i(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"td",26)(1,"button",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editTrainerCode(s))}),e._uU(2,"Edit"),e.qZA()()}}function zi(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28),e._uU(3,"No records found"),e.qZA()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.displayedColumns.length)}}function Gi(r,a){1&r&&e._UZ(0,"tr",29)}const Xi=function(r,a){return{"even-row":r,"odd-row":a}};function Wi(r,a){if(1&r&&e._UZ(0,"tr",30),2&r){const t=a.index;e.Q6J("ngClass",e.WLB(1,Xi,t%2==0,t%2!=0))}}const er=function(){return[5,10,20]};let ce=(()=>{class r{constructor(t,i,n,s,d,c){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this.searchInput="",this.loadingIndicator=!1,this._ngUnSubscribe=new A.x,this.savedTrainerCodesDataSource=new p.by,this.displayedColumns=["sno","misCode","trainerName","specialty","qualification","trainerType","country","trainerCode","trainerCategory","actions"]}ngOnInit(){this._loadSavedTrainerCodes()}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}_loadSavedTrainerCodes(){this.loadingIndicator=!0,this._moduleService.getApprovedTrainerCodeCreationDetails().subscribe(t=>{this.loadingIndicator=!1,console.log(["savedTrainerCodes",t]),this.savedTrainerCodesDataSource.data=t,this.savedTrainerCodesDataSource.paginator=this.paginator},t=>{this.loadingIndicator=!1,console.error("Error loading saved trainers codes:",t)})}_applySavedTrainerCodesFilter(t){this.savedTrainerCodesDataSource.filter=t.trim().toLowerCase()}clearSearchInput(){this.searchInput="",this._applySavedTrainerCodesFilter("")}editTrainerCode(t){console.log(t),this._dialog.open(Ni,{width:"80%",data:t}).afterClosed().subscribe(n=>{console.log("Edit Trainer CLOSED"),this._loadSavedTrainerCodes()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-trainers"]],viewQuery:function(t,i){if(1&t&&e.Gf(z.NW,7),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first)}},decls:42,vars:9,consts:[[1,"search-box"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","input"],["mat-icon-button","","class","search-icon",4,"ngIf"],["mat-icon-button","","class","search-icon",3,"click",4,"ngIf"],[1,"table-responsive","table-bordered"],["mat-table","",1,"mat-elevation-z8","table","text-center","table-striped","overflow-hidden",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","misCode"],["matColumnDef","trainerName"],["matColumnDef","specialty"],["matColumnDef","qualification"],["matColumnDef","trainerType"],["matColumnDef","country"],["matColumnDef","trainerCode"],["matColumnDef","trainerCategory"],["matColumnDef","actions"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"isLoading"],["mat-icon-button","",1,"search-icon"],["mat-icon-button","",1,"search-icon",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"no-data-row"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"mat-form-field",0)(2,"input",1),e.NdJ("ngModelChange",function(s){return i.searchInput=s})("input",function(s){return i._applySavedTrainerCodesFilter(s.target.value)}),e.qZA(),e.YNc(3,Fi,3,0,"button",2),e.YNc(4,yi,3,0,"button",3),e.qZA(),e.TgZ(5,"div",4)(6,"table",5),e.ynx(7,6),e.YNc(8,Oi,2,0,"th",7),e.YNc(9,qi,2,1,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,xi,2,0,"th",7),e.YNc(12,wi,2,1,"td",8),e.BQk(),e.ynx(13,10),e.YNc(14,Vi,2,0,"th",7),e.YNc(15,Ui,2,1,"td",8),e.BQk(),e.ynx(16,11),e.YNc(17,Mi,2,0,"th",7),e.YNc(18,Di,2,1,"td",8),e.BQk(),e.ynx(19,12),e.YNc(20,Ei,2,0,"th",7),e.YNc(21,Ji,2,1,"td",8),e.BQk(),e.ynx(22,13),e.YNc(23,Pi,2,0,"th",7),e.YNc(24,Bi,2,1,"td",8),e.BQk(),e.ynx(25,14),e.YNc(26,Qi,2,0,"th",7),e.YNc(27,Yi,2,1,"td",8),e.BQk(),e.ynx(28,15),e.YNc(29,Ri,2,0,"th",7),e.YNc(30,Li,2,1,"td",8),e.BQk(),e.ynx(31,16),e.YNc(32,Hi,2,0,"th",7),e.YNc(33,ji,2,1,"td",8),e.BQk(),e.ynx(34,17),e.YNc(35,Ki,2,0,"th",7),e.YNc(36,$i,3,0,"td",8),e.BQk(),e.YNc(37,zi,4,1,"ng-container",18),e.YNc(38,Gi,1,0,"tr",19),e.YNc(39,Wi,1,4,"tr",20),e.qZA(),e._UZ(40,"mat-paginator",21),e.qZA()(),e._UZ(41,"app-spinner-loader",22)),2&t&&(e.xp6(2),e.Q6J("ngModel",i.searchInput),e.xp6(1),e.Q6J("ngIf",!i.searchInput),e.xp6(1),e.Q6J("ngIf",i.searchInput),e.xp6(2),e.Q6J("dataSource",i.savedTrainerCodesDataSource),e.xp6(32),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,er)),e.xp6(1),e.Q6J("isLoading",i.loadingIndicator))},dependencies:[C.mk,C.O5,o.Fj,o.JJ,o.On,B.lW,h.KE,x.Nt,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,p.Ee,z.NW,M.Hw,N.r],styles:["table.table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black;\r\n  }\r\ntable.table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\nth[_ngcontent-%COMP%]{\r\n   text-align: center !important;\r\n   color: black;\r\n    border:1px solid black !important;\r\n}\r\n\r\n.mat-form-field[_ngcontent-%COMP%] {\r\n  width: 50%;\r\n  border-radius: 20px; \r\n}\r\n\r\n.no-data-row[_ngcontent-%COMP%] {\r\n  text-align: center;\r\n  color: black;\r\n  font-style: italic;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 50%;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin: 20px auto;\r\n}\r\n\r\n.search-icon[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  margin-top: -10px;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]     .mat-form-field-placeholder {\r\n  text-align: center;\r\n  color: black; \r\n}"]}),r})(),tr=(()=>{class r{constructor(t){this._router=t}ngOnInit(){this._router.queryParams.subscribe(t=>{console.log("params",t.action),this.selectedActionEvent="add"===t.action?1:0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trainer-code-creation"]],decls:10,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[3,"selectedIndex"],["label","View Existing Trainers"],["label","Add New Trainer"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"mat-tab-group",4)(6,"mat-tab",5),e._UZ(7,"app-view-trainers"),e.qZA(),e.TgZ(8,"mat-tab",6),e._UZ(9,"app-add-trainer"),e.qZA()()()()()()()),2&t&&(e.xp6(5),e.Q6J("selectedIndex",i.selectedActionEvent))},dependencies:[w.SP,w.uX,le,ce]}),r})();function ir(r,a){if(1&r&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let pe=(()=>{class r{constructor(t,i,n,s,d,c,m,g){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this._router=m,this._authService=g,this.loadingIndicator=!1,this.vendors=[],this.vendorTypes=[],this.countries=[],this.specialities=[],this.vendorCriterias=[],this.vendorNameSelected="",this.vendorPanCardFileString="",this.vendorChequeFileString="",this.vendorTaxResidenceCertificateFileString="",this._ngUnSubscribe=new A.x}ngOnInit(){this.addVendorCodeCreationForm=this._formBuilder.group({misCode:new o.NI("",o.kI.required),vendorAccount:new o.NI("",o.kI.required),benificiaryName:new o.NI("",o.kI.required),panCardName:new o.NI,bankAccountNumber:new o.NI("",o.kI.required),ifscCode:new o.NI,emailID:new o.NI("",o.kI.required),panCardNumber:new o.NI,swiftCode:new o.NI,ibnNumber:new o.NI(""),vendorPanCard:new o.NI,vendorPanCardFile:new o.NI,vendorCheque:new o.NI,vendorChequeFile:new o.NI,vendorTaxResidenceCertificate:new o.NI,vendorTaxResidenceCertificateFile:new o.NI}),this.addVendorCodeCreationForm.get("panCardName").disable(),this.addVendorCodeCreationForm.get("ifscCode").disable(),this.addVendorCodeCreationForm.get("panCardNumber").disable(),this.addVendorCodeCreationForm.get("swiftCode").disable(),this.addVendorCodeCreationForm.get("ibnNumber").disable(),this.addVendorCodeCreationForm.get("vendorPanCard").disable(),this.addVendorCodeCreationForm.get("vendorTaxResidenceCertificate").disable()}_getApprovedVendors(){this._utilityService.getApprovedVendorsForAutocomplete().subscribe(t=>{console.log(t),this.vendors=t},t=>{console.error("Error loading vendors:",t)})}_filterMISCodes(t){const n=t.toString().toLowerCase();console.log(n,this.vendors);var s=this.vendors.map(d=>d.MISCode).filter(d=>d&&d.toString().toLowerCase().includes(n));return s.push("N/A"),s}onMISCodeSelected(t){const i=t.option.value;console.log("value",i),i&&""!==i.trim()&&"n/a"!==i.trim().toLowerCase()?(this.addVendorCodeCreationForm.get("panCardName").enable(),this.addVendorCodeCreationForm.get("ifscCode").enable(),this.addVendorCodeCreationForm.get("panCardNumber").enable(),this.addVendorCodeCreationForm.get("swiftCode").enable(),this.addVendorCodeCreationForm.get("ibnNumber").enable(),this.addVendorCodeCreationForm.get("vendorPanCard").enable(),this.addVendorCodeCreationForm.get("vendorTaxResidenceCertificate").enable()):(this.addVendorCodeCreationForm.get("panCardName").disable(),this.addVendorCodeCreationForm.get("ifscCode").disable(),this.addVendorCodeCreationForm.get("panCardNumber").disable(),this.addVendorCodeCreationForm.get("swiftCode").disable(),this.addVendorCodeCreationForm.get("ibnNumber").disable(),this.addVendorCodeCreationForm.get("vendorPanCard").disable(),this.addVendorCodeCreationForm.get("vendorTaxResidenceCertificate").disable())}onMISCodeChange(t){const i=t.target.value;console.log("hello"),i&&""!==i.trim()&&"n/a"!==i.trim().toLowerCase()?(this.addVendorCodeCreationForm.get("panCardName").enable(),this.addVendorCodeCreationForm.get("ifscCode").enable(),this.addVendorCodeCreationForm.get("panCardNumber").enable(),this.addVendorCodeCreationForm.get("swiftCode").disable(),this.addVendorCodeCreationForm.get("ibnNumber").disable(),this.addVendorCodeCreationForm.get("vendorPanCard").enable(),this.addVendorCodeCreationForm.get("vendorTaxResidenceCertificate").disable()):(this.addVendorCodeCreationForm.get("panCardName").disable(),this.addVendorCodeCreationForm.get("ifscCode").disable(),this.addVendorCodeCreationForm.get("panCardNumber").disable(),this.addVendorCodeCreationForm.get("swiftCode").enable(),this.addVendorCodeCreationForm.get("ibnNumber").enable(),this.addVendorCodeCreationForm.get("vendorPanCard").disable(),this.addVendorCodeCreationForm.get("vendorTaxResidenceCertificate").enable())}findVendorByMISCode(t){return this.vendors.find(i=>i.MISCode===t)}submit(){if(this.addVendorCodeCreationForm.valid){this.loadingIndicator=!0;var t=this.addVendorCodeCreationForm.get("vendorAccount").value,i=this.addVendorCodeCreationForm.get("misCode").value.toString(),n=this.addVendorCodeCreationForm.get("benificiaryName").value,s=this.addVendorCodeCreationForm.get("panCardName").value,d=this.addVendorCodeCreationForm.get("panCardNumber").value,c=this.addVendorCodeCreationForm.get("bankAccountNumber").value,m=this.addVendorCodeCreationForm.get("ifscCode").value,g=this.addVendorCodeCreationForm.get("swiftCode").value,f=this.addVendorCodeCreationForm.get("ibnNumber").value,_=this.addVendorCodeCreationForm.get("emailID").value;let y=this._authService.decodeToken();const b={vendorAccount:t,misCode:i,benificiaryName:n||"",panCardName:s||"",panNumber:d||"",bankAccountNumber:c||"",ifscCode:m||"",swiftCode:g||"",ibnNumber:f||"",email:_||"",panCardDocument:this.vendorPanCardFileString,chequeDocument:this.vendorChequeFileString,taxResidenceCertificate:this.vendorTaxResidenceCertificateFileString,InitiatorNameName:y.unique_name,InitiatorEmail:y.email||" "};console.log("payload",b),this._moduleService.addVendorCreationDetails(b).pipe((0,T.R)(this._ngUnSubscribe.asObservable())).subscribe(I=>{I?(this.loadingIndicator=!1,this._snackBarService.showSnackBar(l.D.MESSAGE.SUCCESS.ADD_VENDOR,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.SUCCESS),this._router.navigate(["/master-list/"]),this.addVendorCodeCreationForm.reset()):this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_VENDOR,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR)},I=>{this._snackBarService.showSnackBar(l.D.MESSAGE.ERROR.ADD_VENDOR,l.D.SNACK_BAR.DELAY,l.D.SNACK_BAR.ERROR),this.loadingIndicator=!1,console.log(I)})}}onVendorPanCardFileSelected(t){this.convertVendorPanCardFileToBase64()}onVendorChequeFileSelected(t){this.convertVendorChequeFileToBase64()}onVendorTaxResidenceCertificateFileSelected(t){this.convertVendorTaxResidenceCertificateFileToBase64()}convertVendorPanCardFileToBase64(){const i=document.getElementById("vendorPanCard").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.vendorPanCardFileString=d.split(",")[1],this.addVendorCodeCreationForm.patchValue({vendorPanCardFile:d})},s.readAsDataURL(n)}}convertVendorChequeFileToBase64(){const i=document.getElementById("vendorCheque").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.vendorChequeFileString=d.split(",")[1],this.addVendorCodeCreationForm.patchValue({vendorChequeFile:d})},s.readAsDataURL(n)}}convertVendorTaxResidenceCertificateFileToBase64(){const i=document.getElementById("vendorTaxResidenceCertificate").files;if(i&&i.length>0){const n=i[0],s=new FileReader;s.onload=()=>{let d=s.result;d=this.vendorTaxResidenceCertificateFileString=d.split(",")[1],this.addVendorCodeCreationForm.patchValue({vendorTaxResidenceCertificateFile:d})},s.readAsDataURL(n)}}isVendorMISCodeNA(){const{misCode:t}=this.addVendorCodeCreationForm.value;return!(!t||""===t.trim()||"n/a"===t.trim())}validateMisCode(){this.loadingIndicator=!0,console.log(this.addVendorCodeCreationForm.get("misCode").value),this._utilityService.getRowDataUsingMISCode(this.addVendorCodeCreationForm.get("misCode").value).subscribe(t=>{console.log(t),t&&this.addVendorCodeCreationForm.get("vendorAccount").setValue(t[0].HCPName),this.loadingIndicator=!1},t=>{console.error("Error loading hpc:",t),this.loadingIndicator=!1})}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C),e.Y36(S.F0),e.Y36(U.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-vendor"]],decls:114,vars:13,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Enter MIS Code","formControlName","misCode",3,"matAutocomplete","change","blur"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Enter Vendor account","formControlName","vendorAccount"],["matInput","","placeholder","Benificiary name","formControlName","benificiaryName"],["matInput","","placeholder","Pan Card Name","formControlName","panCardName",3,"disabled"],["matInput","","placeholder","Bank Account Number","formControlName","bankAccountNumber"],["matInput","","placeholder","IFSC Code","formControlName","ifscCode",3,"disabled"],["matInput","","placeholder","Email ID","formControlName","emailID"],["matInput","","placeholder","Pan Card Number","formControlName","panCardNumber",3,"disabled"],["matInput","","placeholder","Swift Code","formControlName","swiftCode",3,"disabled"],["matInput","","placeholder","IBN Number","formControlName","ibnNumber",3,"disabled"],[1,"justify-content-center"],["type","file","id","vendorPanCard","formControlName","vendorPanCard","accept",".pdf, .docx, .jpg, .png",3,"disabled","change"],["matSuffix",""],["type","file","id","vendorCheque","formControlName","vendorCheque","accept",".pdf, .docx, .jpg, .png",3,"change"],["type","file","id","vendorTaxResidenceCertificate","formControlName","vendorTaxResidenceCertificate","accept",".pdf, .docx, .jpg, .png",3,"disabled","change"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm"],[3,"isLoading"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Vendor Creation"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",2)(10,"div",3)(11,"div",4)(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(14,"div",2)(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"MIS Code"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("change",function(s){return i.onMISCodeChange(s)})("blur",function(){return i.validateMisCode()}),e.qZA(),e.TgZ(20,"mat-autocomplete",null,12),e.YNc(22,ir,2,2,"mat-option",13),e.ALo(23,"async"),e.qZA()()()(),e.TgZ(24,"div",2)(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Vendor account"),e.qZA(),e._UZ(29,"input",14),e.qZA()()(),e.TgZ(30,"div",2)(31,"div",9)(32,"mat-form-field",10)(33,"mat-label"),e._uU(34,"Benificiary name"),e.qZA(),e._UZ(35,"input",15),e.qZA()()(),e.TgZ(36,"div",2)(37,"div",9)(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"Pan Card Name"),e.qZA(),e._UZ(41,"input",16),e.qZA()()(),e.TgZ(42,"div",2)(43,"div",9)(44,"mat-form-field",10)(45,"mat-label"),e._uU(46,"Bank Account Number"),e.qZA(),e._UZ(47,"input",17),e.qZA()()(),e.TgZ(48,"div",2)(49,"div",9)(50,"mat-form-field",10)(51,"mat-label"),e._uU(52,"IFSC Code"),e.qZA(),e._UZ(53,"input",18),e.qZA()()(),e.TgZ(54,"div",2)(55,"div",9)(56,"mat-form-field",10)(57,"mat-label"),e._uU(58,"Email ID"),e.qZA(),e._UZ(59,"input",19),e.qZA()()(),e.TgZ(60,"div",2)(61,"div",9)(62,"mat-form-field",10)(63,"mat-label"),e._uU(64,"Pan Card Number"),e.qZA(),e._UZ(65,"input",20),e.qZA()()(),e.TgZ(66,"div",2)(67,"div",9)(68,"mat-form-field",10)(69,"mat-label"),e._uU(70,"Swift Code"),e.qZA(),e._UZ(71,"input",21),e.qZA()()(),e.TgZ(72,"div",2)(73,"div",9)(74,"mat-form-field",10)(75,"mat-label"),e._uU(76,"IBN Number"),e.qZA(),e._UZ(77,"input",22),e.qZA()()(),e.TgZ(78,"div",2)(79,"div",9)(80,"div",23)(81,"mat-label"),e._uU(82,"Pan Card Upload"),e.qZA(),e._UZ(83,"br"),e.TgZ(84,"input",24),e.NdJ("change",function(s){return i.onVendorPanCardFileSelected(s)}),e.qZA(),e.TgZ(85,"mat-icon",25),e._uU(86,"attach_file"),e.qZA()(),e._UZ(87,"br"),e.qZA()(),e.TgZ(88,"div",2)(89,"div",9)(90,"div",23)(91,"mat-label"),e._uU(92,"Cheque Upload"),e.qZA(),e._UZ(93,"br"),e.TgZ(94,"input",26),e.NdJ("change",function(s){return i.onVendorChequeFileSelected(s)}),e.qZA(),e.TgZ(95,"mat-icon",25),e._uU(96,"attach_file"),e.qZA()(),e._UZ(97,"br"),e.qZA()(),e.TgZ(98,"div",2)(99,"div",9)(100,"div",23)(101,"mat-label"),e._uU(102,"Tax Residence certificate upload"),e.qZA(),e._UZ(103,"br"),e.TgZ(104,"input",27),e.NdJ("change",function(s){return i.onVendorTaxResidenceCertificateFileSelected(s)}),e.qZA(),e.TgZ(105,"mat-icon",25),e._uU(106,"attach_file"),e.qZA()(),e._UZ(107,"br"),e.qZA()(),e.TgZ(108,"div",2)(109,"div",9)(110,"div",28)(111,"button",29),e._uU(112,"Submit"),e.qZA()()()()()()()()()()()(),e._UZ(113,"app-spinner-loader",30),e.qZA()()()),2&t){const n=e.MAs(21);e.xp6(13),e.Q6J("formGroup",i.addVendorCodeCreationForm),e.xp6(6),e.Q6J("matAutocomplete",n),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,11,i._filteredMISCodes)),e.xp6(19),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(12),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(12),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(6),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(6),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(7),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(20),e.Q6J("disabled",!i.isVendorMISCodeNA()),e.xp6(9),e.Q6J("isLoading",i.loadingIndicator)}},dependencies:[C.sg,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,h.KE,h.hX,h.R9,x.Nt,Q.ey,F.XC,F.ZL,M.Hw,N.r,C.Ov],styles:[".trainerCriterias-radio-group[_ngcontent-%COMP%] {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.trainerCriterias-radio-button[_ngcontent-%COMP%] {\r\n  margin: 5px;\r\n}\r\n\r\n  .mat-radio-label {\r\n  align-items: inherit!important;\r\n}"]}),r})();function rr(r,a){1&r&&(e.TgZ(0,"button",21)(1,"mat-icon"),e._uU(2,"search"),e.qZA()())}function ar(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearSearchInput())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function nr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," S.no "),e.qZA())}function or(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.index;e.xp6(1),e.hij(" ",t+1," ")}}function sr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," MIS Code "),e.qZA())}function dr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.MisCode," ")}}function lr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," Vendor Account "),e.qZA())}function cr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.VendorAccount," ")}}function pr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," Benificiary Name "),e.qZA())}function ur(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.BeneficiaryName," ")}}function Cr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," Pan Card Name "),e.qZA())}function mr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.PanCardName," ")}}function gr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," Bank Account Number "),e.qZA())}function hr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.BankAccountNumber," ")}}function fr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," IFSC Code "),e.qZA())}function _r(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t.IfscCode," ")}}function Tr(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," Swift Code "),e.qZA())}function vr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["Swift Code"]," ")}}function Ir(r,a){1&r&&(e.TgZ(0,"th",23),e._uU(1," IBN Number "),e.qZA())}function Sr(r,a){if(1&r&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.xp6(1),e.hij(" ",t["IBN Number"]," ")}}function br(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",25),e._uU(3,"No records found"),e.qZA()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.displayedColumns.length)}}function Ar(r,a){1&r&&e._UZ(0,"tr",26)}const kr=function(r,a){return{"even-row":r,"odd-row":a}};function Zr(r,a){if(1&r&&e._UZ(0,"tr",27),2&r){const t=a.index;e.Q6J("ngClass",e.WLB(1,kr,t%2==0,t%2!=0))}}let ue=(()=>{class r{constructor(t,i,n,s,d,c){this._http=t,this._formBuilder=i,this._dialog=n,this._utilityService=s,this._snackBarService=d,this._moduleService=c,this.searchInput="",this.loadingIndicator=!1,this._ngUnSubscribe=new A.x,this.savedVendorsDataSource=new p.by,this.displayedColumns=["sno","misCode","vendorAccount","benificiaryName","panCardName","bankAccountNumber","ifscCode","swiftCode","ibnNumber"]}ngOnInit(){this._loadSavedVendors()}ngOnDestroy(){this._ngUnSubscribe.next(),this._ngUnSubscribe.complete()}_loadSavedVendors(){this.loadingIndicator=!0,this._moduleService.getVendorCreationDetails().subscribe(t=>{this.loadingIndicator=!1,console.log(["savedVendors",t]),this.savedVendorsDataSource.data=t},t=>{this.loadingIndicator=!1,console.error("Error loading saved vendors codes:",t)})}_applySavedVendorsFilter(t){this.savedVendorsDataSource.filter=t.trim().toLowerCase()}clearSearchInput(){this.searchInput="",this._applySavedVendorsFilter("")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z.eN),e.Y36(o.qu),e.Y36(v.uw),e.Y36(O.t),e.Y36(q.c),e.Y36(k.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-vendors"]],decls:38,vars:7,consts:[[1,"search-box"],["matInput","","placeholder","Search...",3,"ngModel","ngModelChange","input"],["mat-icon-button","","class","search-icon",4,"ngIf"],["mat-icon-button","","class","search-icon",3,"click",4,"ngIf"],[1,"table-responsive","table-bordered"],["mat-table","",1,"mat-elevation-z8","table","text-center","table-striped","overflow-hidden",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","misCode"],["matColumnDef","vendorAccount"],["matColumnDef","benificiaryName"],["matColumnDef","panCardName"],["matColumnDef","bankAccountNumber"],["matColumnDef","ifscCode"],["matColumnDef","swiftCode"],["matColumnDef","ibnNumber"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],[3,"isLoading"],["mat-icon-button","",1,"search-icon"],["mat-icon-button","",1,"search-icon",3,"click"],["mat-header-cell",""],["mat-cell",""],[1,"no-data-row"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"mat-form-field",0)(2,"input",1),e.NdJ("ngModelChange",function(s){return i.searchInput=s})("input",function(s){return i._applySavedVendorsFilter(s.target.value)}),e.qZA(),e.YNc(3,rr,3,0,"button",2),e.YNc(4,ar,3,0,"button",3),e.qZA(),e.TgZ(5,"div",4)(6,"table",5),e.ynx(7,6),e.YNc(8,nr,2,0,"th",7),e.YNc(9,or,2,1,"td",8),e.BQk(),e.ynx(10,9),e.YNc(11,sr,2,0,"th",7),e.YNc(12,dr,2,1,"td",8),e.BQk(),e.ynx(13,10),e.YNc(14,lr,2,0,"th",7),e.YNc(15,cr,2,1,"td",8),e.BQk(),e.ynx(16,11),e.YNc(17,pr,2,0,"th",7),e.YNc(18,ur,2,1,"td",8),e.BQk(),e.ynx(19,12),e.YNc(20,Cr,2,0,"th",7),e.YNc(21,mr,2,1,"td",8),e.BQk(),e.ynx(22,13),e.YNc(23,gr,2,0,"th",7),e.YNc(24,hr,2,1,"td",8),e.BQk(),e.ynx(25,14),e.YNc(26,fr,2,0,"th",7),e.YNc(27,_r,2,1,"td",8),e.BQk(),e.ynx(28,15),e.YNc(29,Tr,2,0,"th",7),e.YNc(30,vr,2,1,"td",8),e.BQk(),e.ynx(31,16),e.YNc(32,Ir,2,0,"th",7),e.YNc(33,Sr,2,1,"td",8),e.BQk(),e.YNc(34,br,4,1,"ng-container",17),e.YNc(35,Ar,1,0,"tr",18),e.YNc(36,Zr,1,4,"tr",19),e.qZA()()(),e._UZ(37,"app-spinner-loader",20)),2&t&&(e.xp6(2),e.Q6J("ngModel",i.searchInput),e.xp6(1),e.Q6J("ngIf",!i.searchInput),e.xp6(1),e.Q6J("ngIf",i.searchInput),e.xp6(2),e.Q6J("dataSource",i.savedVendorsDataSource),e.xp6(29),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("isLoading",i.loadingIndicator))},dependencies:[C.mk,C.O5,o.Fj,o.JJ,o.On,B.lW,h.KE,x.Nt,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,p.Ee,M.Hw,N.r],styles:["table.table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black;\r\n  }\r\ntable.table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\r\n    border:1px solid black !important;\r\n  }\r\ntable.table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\r\n   \r\n    border:1px solid black !important;\r\n  }\r\nth[_ngcontent-%COMP%]{\r\n   text-align: center !important;\r\n   color: black;\r\n    border:1px solid black !important;\r\n}\r\n\r\n.mat-form-field[_ngcontent-%COMP%] {\r\n  width: 50%;\r\n  border-radius: 20px; \r\n}\r\n\r\n.no-data-row[_ngcontent-%COMP%] {\r\n  text-align: center;\r\n  color: black;\r\n  font-style: italic;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%] {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 50%;\r\n  border-radius: 10px;\r\n  position: relative;\r\n  margin: 20px auto;\r\n}\r\n\r\n.search-icon[_ngcontent-%COMP%] {\r\n  position: absolute;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  margin-top: -10px;\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\r\n}\r\n\r\n.search-box[_ngcontent-%COMP%]     .mat-form-field-placeholder {\r\n  text-align: center;\r\n  color: black; \r\n}"]}),r})();const Nr=[{path:"hcp-master",component:Ae},{path:"",pathMatch:"full",component:ge},{path:"speaker-code-creation",component:xt,children:[{path:"view-speakers",component:de},{path:"add-speaker",component:se}]},{path:"trainer-code-creation",component:tr,children:[{path:"view-trainers",component:ce},{path:"add-trainer",component:le}]},{path:"vendor-creation",component:(()=>{class r{constructor(t){this._router=t}ngOnInit(){this._router.queryParams.subscribe(t=>{console.log("params",t.action),this.selectedActionEvent="add"===t.action?1:0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vendor-creation"]],decls:10,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[3,"selectedIndex"],["label","View Existing Vendors"],["label","Add New Vendor"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"mat-tab-group",4)(6,"mat-tab",5),e._UZ(7,"app-view-vendors"),e.qZA(),e.TgZ(8,"mat-tab",6),e._UZ(9,"app-add-vendor"),e.qZA()()()()()()()),2&t&&(e.xp6(5),e.Q6J("selectedIndex",i.selectedActionEvent))},dependencies:[w.SP,w.uX,pe,ue]}),r})(),children:[{path:"view-vendors",component:ue},{path:"add-vendor",component:pe}]}];let Fr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[S.Bz.forChild(Nr),S.Bz]}),r})(),yr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[C.ez,Fr]}),r})()}}]);